(this.webpackJsonppymos=this.webpackJsonppymos||[]).push([[0],{16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"ActionType",(function(){return L})),n.d(r,"previousStep",(function(){return k})),n.d(r,"nextStep",(function(){return W})),n.d(r,"mouseDownRVertex",(function(){return T})),n.d(r,"mouseDownHVertex",(function(){return A})),n.d(r,"mouseDownVVertex",(function(){return C})),n.d(r,"mouseMove",(function(){return V})),n.d(r,"mouseUp",(function(){return I})),n.d(r,"makeThin",(function(){return D})),n.d(r,"makeEven",(function(){return B})),n.d(r,"updateDims",(function(){return F})),n.d(r,"updateDevice",(function(){return R})),n.d(r,"resetMainTriangle",(function(){return H})),n.d(r,"toggleTheme",(function(){return U}));var a={};n.r(a),n.d(a,"vr",(function(){return z})),n.d(a,"hr",(function(){return G})),n.d(a,"vh",(function(){return Z})),n.d(a,"rv",(function(){return X})),n.d(a,"rh",(function(){return _})),n.d(a,"hv",(function(){return J})),n.d(a,"aPerpNorm",(function(){return Y})),n.d(a,"aPerp",(function(){return K})),n.d(a,"a0",(function(){return Q})),n.d(a,"a1",(function(){return $})),n.d(a,"aSquare",(function(){return ee})),n.d(a,"aSquareLabel",(function(){return te})),n.d(a,"bPerpNorm",(function(){return ne})),n.d(a,"bPerp",(function(){return re})),n.d(a,"b0",(function(){return ae})),n.d(a,"b1",(function(){return ie})),n.d(a,"bSquare",(function(){return ce})),n.d(a,"bSquareLabel",(function(){return se})),n.d(a,"cPerpNorm",(function(){return ue})),n.d(a,"cPerp",(function(){return oe})),n.d(a,"c0",(function(){return le})),n.d(a,"c1",(function(){return he})),n.d(a,"cSquare",(function(){return de})),n.d(a,"cSquareLabel",(function(){return pe})),n.d(a,"abOut",(function(){return je})),n.d(a,"abIn",(function(){return fe})),n.d(a,"cAuxV",(function(){return be})),n.d(a,"cAuxDiag",(function(){return me})),n.d(a,"cAuxH",(function(){return Oe})),n.d(a,"aMeasurementPerp",(function(){return ye})),n.d(a,"aMeasurementStart",(function(){return ve})),n.d(a,"aMeasurementEnd",(function(){return ge})),n.d(a,"bMeasurementPerp",(function(){return Me})),n.d(a,"bMeasurementStart",(function(){return we})),n.d(a,"bMeasurementEnd",(function(){return Ee})),n.d(a,"cMeasurementPerp",(function(){return Pe})),n.d(a,"cMeasurementStart",(function(){return Le})),n.d(a,"cMeasurementEnd",(function(){return Se})),n.d(a,"aMeasurementLabel",(function(){return Ne})),n.d(a,"bMeasurementLabel",(function(){return ke})),n.d(a,"cMeasurementLabel",(function(){return We})),n.d(a,"abAuxSquare",(function(){return Te})),n.d(a,"cAuxSquare",(function(){return Ae})),n.d(a,"abMeasurementHOut",(function(){return Ce})),n.d(a,"abMeasurementVOut",(function(){return Ve})),n.d(a,"aSquareMeasurement1Start",(function(){return Ie})),n.d(a,"aSquareMeasurement1End",(function(){return De})),n.d(a,"bSquareMeasurement1Start",(function(){return Be})),n.d(a,"bSquareMeasurement1End",(function(){return Fe})),n.d(a,"aSquareMeasurement1Label",(function(){return Re})),n.d(a,"bSquareMeasurement1Label",(function(){return He})),n.d(a,"aSquareMeasurement2Start",(function(){return Ue})),n.d(a,"aSquareMeasurement2End",(function(){return ze})),n.d(a,"bSquareMeasurement2Start",(function(){return Ge})),n.d(a,"bSquareMeasurement2End",(function(){return Ze})),n.d(a,"aSquareMeasurement2Label",(function(){return Xe})),n.d(a,"bSquareMeasurement2Label",(function(){return _e})),n.d(a,"isRightHanded",(function(){return Je})),n.d(a,"initTriPose",(function(){return Ye})),n.d(a,"triCopyPts",(function(){return Ke})),n.d(a,"triCopyC1Pose",(function(){return Qe})),n.d(a,"triCopyC2Pose",(function(){return $e})),n.d(a,"triCopyC3Pose",(function(){return et})),n.d(a,"triCopyAB1Pose",(function(){return tt})),n.d(a,"triCopyAB2Pose",(function(){return nt})),n.d(a,"triCopyAB3Pose",(function(){return rt})),n.d(a,"cMeasurementVOut",(function(){return at})),n.d(a,"cMeasurementHOut",(function(){return it})),n.d(a,"cSquareMeasurementA1Start",(function(){return ct})),n.d(a,"cSquareMeasurementA1End",(function(){return st})),n.d(a,"cSquareMeasurementB1Start",(function(){return ut})),n.d(a,"cSquareMeasurementB1End",(function(){return ot})),n.d(a,"cSquareMeasurementA1Label",(function(){return lt})),n.d(a,"cSquareMeasurementB1Label",(function(){return ht})),n.d(a,"cSquareMeasurementA2Start",(function(){return dt})),n.d(a,"cSquareMeasurementA2End",(function(){return pt})),n.d(a,"cSquareMeasurementB2Start",(function(){return jt})),n.d(a,"cSquareMeasurementB2End",(function(){return ft})),n.d(a,"cSquareMeasurementA2Label",(function(){return bt})),n.d(a,"cSquareMeasurementB2Label",(function(){return mt})),n.d(a,"triCopyLabelOut",(function(){return Ot})),n.d(a,"mainTriLabel",(function(){return xt})),n.d(a,"triCopyC1Label",(function(){return yt})),n.d(a,"triCopyC2Label",(function(){return vt})),n.d(a,"triCopyC3Label",(function(){return gt})),n.d(a,"triCopyAB1Label",(function(){return Mt})),n.d(a,"triCopyAB2Label",(function(){return wt})),n.d(a,"triCopyAB3Label",(function(){return Et})),n.d(a,"vC1",(function(){return Pt})),n.d(a,"vCAuxV",(function(){return Lt})),n.d(a,"c1V",(function(){return St})),n.d(a,"c1CAuxV",(function(){return qt}));var i={};n.r(i),n.d(i,"canGoPrevious",(function(){return Ht})),n.d(i,"canGoNext",(function(){return Ut})),n.d(i,"stepProgress",(function(){return zt})),n.d(i,"stepIndex",(function(){return Gt})),n.d(i,"currentSection",(function(){return Zt})),n.d(i,"currentGraphics",(function(){return Xt})),n.d(i,"isTriOutOfBounds",(function(){return _t})),n.d(i,"dims",(function(){return Jt})),n.d(i,"currentDuration",(function(){return Yt})),n.d(i,"isLight",(function(){return Kt})),n.d(i,"altThemeString",(function(){return Qt}));var c,s=n(1),u=n.n(s),o=n(11),l=n.n(o),h=(n(16),n(3)),d=n(4),p=n(5),j=function(){function e(){Object(d.a)(this,e),this.type=void 0,this.hOffset=void 0,this.vOffset=void 0}return Object(p.a)(e,[{key:"match",value:function(e){switch(this.type){case c.None:return e.none();case c.RVertex:return e.r(this.hOffset,this.vOffset);case c.HVertex:return e.h();case c.VVertex:return e.v()}}}],[{key:"None",value:function(){var t=new e;return t.type=c.None,t}},{key:"RVertex",value:function(t,n){var r=new e;return r.type=c.RVertex,r.hOffset=t,r.vOffset=n,r}},{key:"HVertex",value:function(){var t=new e;return t.type=c.HVertex,t}},{key:"VVertex",value:function(){var t=new e;return t.type=c.VVertex,t}}]),e}();!function(e){e.None="None",e.RVertex="RVertex",e.HVertex="HVertex",e.VVertex="VVertex"}(c||(c={}));var f=n(8),b=n(2),m=n(10),O=function(){function e(t,n){Object(d.a)(this,e),this.fn=t,this.duration=n}return Object(p.a)(e,[{key:"then",value:function(t){var n=this;return new e((function(e){return e<n.duration?n.fn(e):t.fn(e-n.duration)}),this.duration+t.duration)}}],[{key:"Wait",value:function(t,n){return new e((function(e){return t}),n)}},{key:"Ease",value:function(t,n,r){return"number"===typeof t&&"number"===typeof n?e.EaseNumber(t,n,r):e.EaseVector(t,n,r)}},{key:"Fork",value:function(t){var n=Object.values(t).map((function(e){return e.duration}));return new e((function(e){return Object.keys(t).reduce((function(n,r){return Object(b.a)(Object(b.a)({},n),{},Object(f.a)({},r,t[r].fn(e)))}),{})}),Math.max.apply(Math,Object(m.a)(n).concat([0])))}},{key:"EaseNumber",value:function(t,n,r){var a=n-t;return new e((function(e){if(e<r){var i=e/r;return t+a*i*i*(3-2*i)}return n}),r)}},{key:"EaseVector",value:function(t,n,r){var a=n.plus(t.times(-1));return new e((function(e){if(e<r){var i=e/r;return t.plus(a.times(i*i*(3-2*i)))}return n}),r)}}]),e}();var x,y,v={SvgPath:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=n?[].concat(Object(m.a)(e),[e[0]]):e,a=t/(r.length-1);return new O((function(i){if(i<t){var c=Math.floor(i/a),s=r[c],u=r[c+1],o=(i-c*a)/a,l=s.plus(u.minus(s).times(o*o*(3-2*o))),h=r.slice(0,c+1).map((function(e){return"".concat(e.x," ").concat(e.y)})).join(" L ");return"M ".concat(h," L ").concat(l.x," ").concat(l.y)}return"M ".concat(e.map((function(e){return"".concat(e.x," ").concat(e.y)})).join(" L ")).concat(n?"Z":"")}),t)},SvgArc:function(e,t,n,r,a){var i=t.norm().times(r),c=e.plus(i),s=e.plus(n.norm().times(r)),u=t.angle(),o=u,l=t.cross(n),h=n.angle()-u,d=l<0?0:1;return new O((function(t){if(t<a){var n=t/a,u=h*n*n*(3-2*n),l=e.plus(i.rotate(u));return"M ".concat(c.x," ").concat(c.y," A ").concat(r," ").concat(r,", ").concat(o,", 0 ").concat(d,", ").concat(l.x," ").concat(l.y)}return"M ".concat(c.x," ").concat(c.y," A ").concat(r," ").concat(r,", ").concat(o,", 0 ").concat(d,", ").concat(s.x," ").concat(s.y)}),a)},Measurement:function(e,t,n,r){var a=.2*r,i=.6*r,c=t.minus(e),s=c.perp().norm().times(n/2),u=e.plus(s),o=e.minus(s),l=t.plus(s),h=t.minus(s),d=s.times(-2),p="M ".concat(u.x," ").concat(u.y," L ").concat(o.x," ").concat(o.y),j="M ".concat(e.x," ").concat(e.y," L ").concat(t.x," ").concat(t.y),f="M ".concat(l.x," ").concat(l.y," L ").concat(h.x," ").concat(h.y);return new O((function(t){if(t<a){var n=t/a,r=u.plus(d.times(n));return"M ".concat(u.x," ").concat(u.y," L ").concat(r.x," ").concat(r.y)}if(a<=t&&t<a+i){var s=(t-a)/i,o=e.plus(c.times(s*s*(3-2*s)));return"".concat(p," M ").concat(e.x," ").concat(e.y," L ").concat(o.x," ").concat(o.y)}if(a+i<=t&&t<a+i+a){var h=(t-a-i)/a,b=l.plus(d.times(h));return"".concat(p," ").concat(j," M ").concat(l.x," ").concat(l.y," L ").concat(b.x," ").concat(b.y)}return"".concat(p," ").concat(j," ").concat(f)}),r)}},g=function(){function e(t,n){Object(d.a)(this,e),this.x=t,this.y=n}return Object(p.a)(e,[{key:"plus",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"times",value:function(t){return new e(t*this.x,t*this.y)}},{key:"minus",value:function(t){return new e(this.x-t.x,this.y-t.y)}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"norm",value:function(){var e=this.length();if(0===e)throw new Error("attempt to norm 0-vector");return this.times(1/e)}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"proj",value:function(e){var t=e.dot(e);if(0===t)throw new Error("attempt to project onto the 0-vector");var n=this.dot(e);return e.times(n/t)}},{key:"perp",value:function(){return new e(-this.y,this.x)}},{key:"rotate",value:function(t){var n=this.x,r=this.y,a=Math.cos(t),i=Math.sin(t);return new e(a*n-i*r,i*n+a*r)}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"angle",value:function(){var e=Math.atan2(this.y,this.x);return e<0?e+2*Math.PI:e}}]),e}(),M=function(){function e(t,n){Object(d.a)(this,e),this.loc=t,this.angle=n}return Object(p.a)(e,[{key:"plus",value:function(t){return new e(this.loc.plus(t.loc),this.angle+t.angle)}},{key:"times",value:function(t){return new e(this.loc.times(t),t*this.angle)}}]),e}();function w(){}function E(e){return e>=0?1:-1}function P(e){var t,n;return function(r){return t&&t===r?n:(t=r,n=e(r))}}!function(e){e.Laptop="Laptop",e.Mobile="Mobile"}(x||(x={})),function(e){e.Light="Light",e.Dark="Dark"}(y||(y={}));var L,S={r:new g(-70,0),h:new g(70,0),v:new g(-70,-80)},q={r:new g(-25,20),h:new g(25,20),v:new g(-25,-20)},N={ui:{dims:{width:0,height:0},triOutOfBounds:!1,device:x.Laptop,theme:y.Light},tri:S,dragSubject:j.None(),stepIndex:0};function k(){return{type:L.PreviousStep}}function W(){return{type:L.NextStep}}function T(){return{type:L.MouseDownRVertex}}function A(){return{type:L.MouseDownHVertex}}function C(){return{type:L.MouseDownVVertex}}function V(e){return{type:L.MouseMove,payload:e}}function I(){return{type:L.MouseUp}}function D(){return{type:L.MakeThin}}function B(){return{type:L.MakeEven}}function F(e){return{type:L.UpdateDims,payload:e}}function R(e){return{type:L.UpdateDevice,payload:e}}function H(){return{type:L.ResetMainTriangle}}function U(){return{type:L.ToggleTheme}}!function(e){e.PreviousStep="PreviousStep",e.NextStep="NextStep",e.MouseDownRVertex="MouseDownRVertex",e.MouseDownHVertex="MouseDownHVertex",e.MouseDownVVertex="MouseDownVVertex",e.MouseMove="MouseMove",e.MouseUp="MouseUp",e.MakeThin="MakeThin",e.MakeEven="MakeEven",e.UpdateDims="UpdateDims",e.UpdateDevice="UpdateDevice",e.ResetMainTriangle="ResetMainTriangle",e.ToggleTheme="ToggleTheme"}(L||(L={}));var z=P((function(e){return e.r.minus(e.v)})),G=P((function(e){return e.r.minus(e.h)})),Z=P((function(e){return e.h.minus(e.v)})),X=P((function(e){return z(e).times(-1)})),_=P((function(e){return G(e).times(-1)})),J=P((function(e){return Z(e).times(-1)})),Y=P((function(e){return G(e).norm()})),K=P((function(e){var t=z(e).length();return Y(e).times(t)})),Q=P((function(e){return e.v.plus(K(e))})),$=P((function(e){return e.r.plus(K(e))})),ee=P((function(e){return[e.v,Q(e),$(e),e.r]})),te=P((function(e){var t=Q(e).minus(e.r).times(.5);return e.r.plus(t)})),ne=P((function(e){return z(e).norm()})),re=P((function(e){var t=G(e).length();return ne(e).times(t)})),ae=P((function(e){return e.r.plus(re(e))})),ie=P((function(e){return e.h.plus(re(e))})),ce=P((function(e){return[e.r,ae(e),ie(e),e.h]})),se=P((function(e){var t=ae(e).minus(e.h).times(.5);return e.h.plus(t)})),ue=P((function(e){var t=Z(e),n=z(e);return n.proj(t).minus(n).norm()})),oe=P((function(e){var t=Z(e).length();return ue(e).times(t)})),le=P((function(e){return e.h.plus(oe(e))})),he=P((function(e){return e.v.plus(oe(e))})),de=P((function(e){return[e.h,le(e),he(e),e.v]})),pe=P((function(e){var t=le(e).minus(e.v).times(.5);return e.v.plus(t)})),je=P((function(e){return ae(e).plus(K(e))})),fe=P((function(e){return e.h.plus(X(e))})),be=P((function(e){var t=G(e).length(),n=X(e).norm().times(t);return e.v.plus(n)})),me=P((function(e){var t=_(e),n=t.length()+z(e).length(),r=t.norm().times(n);return be(e).plus(r)})),Oe=P((function(e){var t=z(e).length(),n=_(e).norm().times(t);return e.h.plus(n)})),xe=30,ye=P((function(e){return Y(e).times(xe)})),ve=P((function(e){return e.v.plus(ye(e))})),ge=P((function(e){return e.r.plus(ye(e))})),Me=P((function(e){return ne(e).times(xe)})),we=P((function(e){return e.r.plus(Me(e))})),Ee=P((function(e){return e.h.plus(Me(e))})),Pe=P((function(e){return ue(e).times(xe)})),Le=P((function(e){return e.h.plus(Pe(e))})),Se=P((function(e){return e.v.plus(Pe(e))})),qe=20,Ne=P((function(e){var t=ve(e),n=ge(e).minus(t).times(.5),r=Y(e).times(qe);return t.plus(n).plus(r)})),ke=P((function(e){var t=we(e),n=Ee(e).minus(t).times(.5),r=ne(e).times(qe);return t.plus(n).plus(r)})),We=P((function(e){var t=Le(e),n=Se(e).minus(t).times(.5),r=ue(e).times(qe);return t.plus(n).plus(r)})),Te=P((function(e){return[e.v,Q(e),je(e),ie(e),fe(e)]})),Ae=P((function(e){return[e.r,be(e),me(e),Oe(e)]})),Ce=P((function(e){var t=Q(e).minus(e.v),n=t.norm().times(xe);return t.plus(n)})),Ve=P((function(e){var t=ie(e).minus(e.h),n=t.norm().times(xe);return t.plus(n)})),Ie=P((function(e){return e.v.plus(Ce(e))})),De=P((function(e){return e.r.plus(Ce(e))})),Be=De,Fe=P((function(e){return ae(e).plus(Ce(e))})),Re=P((function(e){var t=Ie(e),n=De(e).minus(t).times(.5),r=Y(e).times(qe);return t.plus(n).plus(r)})),He=P((function(e){var t=Be(e),n=Fe(e).minus(t).times(.5),r=Y(e).times(qe);return t.plus(n).plus(r)})),Ue=P((function(e){return $(e).plus(Ve(e))})),ze=P((function(e){return e.r.plus(Ve(e))})),Ge=ze,Ze=P((function(e){return e.h.plus(Ve(e))})),Xe=P((function(e){var t=Ue(e),n=ze(e).minus(t).times(.5),r=ne(e).times(qe);return t.plus(n).plus(r)})),_e=P((function(e){var t=Ge(e),n=Ze(e).minus(t).times(.5),r=ne(e).times(qe);return t.plus(n).plus(r)})),Je=P((function(e){return _(e).cross(X(e))>=0})),Ye=P((function(e){return new M(e.r,0)})),Ke=P((function(e){return[new g(0,0),_(e),X(e)]})),Qe=P((function(e){var t=Je(e)?-Math.PI/2:Math.PI/2;return new M(be(e),t)})),$e=P((function(e){return new M(me(e),Math.PI)})),et=P((function(e){var t=Je(e)?-3*Math.PI/2:3*Math.PI/2;return new M(Oe(e),t)})),tt=P((function(e){return new M(fe(e),Math.PI)})),nt=P((function(e){var t=Je(e)?-Math.PI/2:Math.PI/2;return new M($(e),t)})),rt=P((function(e){var t=Je(e)?Math.PI/2:-Math.PI/2;return new M(ae(e),t)})),at=P((function(e){return X(e).norm().times(xe)})),it=P((function(e){return _(e).norm().times(xe)})),ct=P((function(e){return be(e).plus(at(e))})),st=P((function(e){return he(e).plus(at(e))})),ut=st,ot=P((function(e){return me(e).plus(at(e))})),lt=P((function(e){var t=ct(e),n=st(e).minus(t).times(.5),r=ne(e).times(-20);return t.plus(n).plus(r)})),ht=P((function(e){var t=ut(e),n=ot(e).minus(t).times(.5),r=ne(e).times(-20);return t.plus(n).plus(r)})),dt=P((function(e){return me(e).plus(it(e))})),pt=P((function(e){return le(e).plus(it(e))})),jt=pt,ft=P((function(e){return Oe(e).plus(it(e))})),bt=P((function(e){var t=dt(e),n=pt(e).minus(t).times(.5),r=Y(e).times(-20);return t.plus(n).plus(r)})),mt=P((function(e){var t=jt(e),n=ft(e).minus(t).times(.5),r=Y(e).times(-20);return t.plus(n).plus(r)})),Ot=P((function(e){var t=X(e).times(.33);return _(e).times(.33).plus(t)})),xt=P((function(e){return e.r.plus(Ot(e))})),yt=P((function(e){var t=Je(e)?3*Math.PI/2:Math.PI/2;return be(e).plus(Ot(e).rotate(t))})),vt=P((function(e){return me(e).plus(Ot(e).rotate(Math.PI))})),gt=P((function(e){var t=Je(e)?Math.PI/2:3*Math.PI/2;return Oe(e).plus(Ot(e).rotate(t))})),Mt=P((function(e){return fe(e).plus(Ot(e).rotate(Math.PI))})),wt=P((function(e){var t=Je(e)?-Math.PI/2:Math.PI/2;return $(e).plus(Ot(e).rotate(t))})),Et=P((function(e){var t=Je(e)?Math.PI/2:-Math.PI/2;return ae(e).plus(Ot(e).rotate(t))})),Pt=P((function(e){return he(e).minus(e.v)})),Lt=P((function(e){return be(e).minus(e.v)})),St=P((function(e){return Pt(e).times(-1)})),qt=P((function(e){return be(e).minus(he(e))})),Nt=n(0),kt=function(e){var t=u.a.useContext($t),n=t.state,a=t.dispatch,i=e.rOpacity,c=void 0===i?.5:i,s=e.hOpacity,o=void 0===s?.5:s,l=e.vOpacity,h=void 0===l?.5:l,d=n.tri,p=d.r,j=d.h,f=d.v;function b(){return a(r.mouseDownRVertex())}function m(){return a(r.mouseDownHVertex())}function O(){return a(r.mouseDownVVertex())}return Object(Nt.jsxs)("g",{children:[Object(Nt.jsx)("circle",{className:"control-point",cx:p.x,cy:p.y,r:16,fillOpacity:c,onMouseDown:b,onTouchStart:b}),Object(Nt.jsx)("circle",{className:"control-point",cx:j.x,cy:j.y,r:16,fillOpacity:o,onMouseDown:m,onTouchStart:m}),Object(Nt.jsx)("circle",{className:"control-point",cx:f.x,cy:f.y,r:16,fillOpacity:h,onMouseDown:O,onTouchStart:O})]})},Wt=function(e){var t=u.a.useContext($t).state.tri,n=t.r,r=t.h,a=t.v,i="M ".concat(n.x," ").concat(n.y," L ").concat(r.x," ").concat(r.y," L ").concat(a.x," ").concat(a.y," Z"),c=e.d,s=void 0===c?i:c,o=e.opacity,l=void 0===o?1:o,h=e.strokeOpacity,d=void 0===h?1:h;return Object(Nt.jsx)("path",{className:"main-triangle",d:s,fillOpacity:l,strokeOpacity:d})},Tt=function(e){var t=e.d,n=e.label,r=e.labelPos,a=e.labelOpacity;return Object(Nt.jsxs)("g",{children:[Object(Nt.jsx)("path",{className:"measurement-path",d:t}),Object(Nt.jsx)("text",{className:"measurement-label",x:r.x,y:r.y,fillOpacity:a,textAnchor:"middle",dominantBaseline:"middle",children:n})]})};var At=function(e){var t=e.pts,n=void 0===t?[]:t,r=e.className,a=e.opacity,i=void 0===a?1:a,c=e.d?e.d:"M ".concat(n.map((function(e){return"".concat(e.x," ").concat(e.y)})).join(" L ")," Z");return Object(Nt.jsx)("path",{className:r,d:c,fillOpacity:i})},Ct=function(e){var t=e.side,n=e.pos,r=e.opacity;return Object(Nt.jsxs)("text",{className:"main-square-label",x:n.x,y:n.y,fillOpacity:r,textAnchor:"middle",dominantBaseline:"middle",children:[t,Object(Nt.jsx)("tspan",{className:"main-square-label-exponent",dy:"-1ex",children:"2"})]})};var Vt=function(e){var t=e.pose,n=e.opacity,r=void 0===n?1:n,a=e.className,i=e.pts.map((function(e){return e.rotate(t.angle).plus(t.loc)})),c="M ".concat(i.map((function(e){return"".concat(e.x," ").concat(e.y)})).join(" L ")," Z");return Object(Nt.jsx)("path",{className:a,d:c,fillOpacity:r})};var It=function(e){var t=e.name,n=e.pos,r=e.opacity,a=e.className;return Object(Nt.jsx)("text",{className:a,x:n.x,y:n.y,fillOpacity:r,textAnchor:"middle",dominantBaseline:"middle",children:t})};var Dt=[{section:function(){return Object(Nt.jsxs)("section",{children:[Object(Nt.jsx)("h1",{children:"A Pythagorean Mosaic"}),Object(Nt.jsxs)("p",{children:["The celebrated ",Object(Nt.jsx)("em",{children:"Pythagorean Theorem"})," says that the relationship between the lengths of the sides of any right triangle is astonishingly simple: specifically, the square of the length of the longest side (the \u201chypotenuse\u201d) is equal to the sum of the squares of the shorter sides. Following convention, if we call the length of the hypotenuse ",Object(Nt.jsx)("code",{children:"c"}),", and the lengths of the remaining sides"," ",Object(Nt.jsx)("code",{children:"a"})," and ",Object(Nt.jsx)("code",{children:"b"}),", the Pythagorean Theorem states that"," ",Object(Nt.jsxs)("code",{children:["a",Object(Nt.jsx)("sup",{children:"2"})," + b",Object(Nt.jsx)("sup",{children:"2"})," = c",Object(Nt.jsx)("sup",{children:"2"})]}),"."]}),Object(Nt.jsxs)("p",{children:["How do we ",Object(Nt.jsx)("em",{children:"know"})," that this is true? Perhaps we could (somehow) check a large collection of right triangles to see if this is always the case. Although such an effort might instill some confidence, it would be far from definitive: we'd inevitably remain tormented by the nagging thought that we'd missed some exotic conjecture-defying triangle."]}),Object(Nt.jsxs)("p",{children:["We want something sturdier: a ",Object(Nt.jsx)("em",{children:"proof"}),". In the remaining pages, we'll step through a tidy demonstration of the Pythagorean Theorem. Unlike the \u201cchecking\u201d strategy described above, our proof will appeal to universal properties of right triangles and other geometric figures, rather than relying on the specific details of any particular triangle."]}),Object(Nt.jsxs)("p",{children:["We'll use the right triangle shown here to illustrate each step. Each of the triangle's vertices (",Object(Nt.jsx)("span",{className:"dummy-control-point"}),") can be dragged at any time; this will allow us to observe each step with a variety of different triangles."]})]})},graphics:function(e){var t=e.frame,n=u.a.useContext($t).state,r=u.a.useMemo((function(){return n.tri,O.Fork({vOpacity:O.Ease(0,.5,400),rOpacity:O.Wait(0,600).then(O.Ease(0,.5,400)),hOpacity:O.Wait(0,1200).then(O.Ease(0,.5,400))})}),[n.tri]),a=u.a.useMemo((function(){return function(e){var t=e.r,n=e.h,r=e.v;return O.Fork({d:v.SvgPath([r,t,n],1800),opacity:O.Wait(0,2400).then(O.Ease(0,1,500))})}(n.tri)}),[n.tri]),i=u.a.useMemo((function(){return e=n.tri,O.Fork({dA:O.Wait("",3e3).then(v.Measurement(ve(e),ge(e),20,1200)),aOpacity:O.Wait(0,4200).then(O.Ease(0,1,800)),dB:O.Wait("",4600).then(v.Measurement(we(e),Ee(e),20,1200)),bOpacity:O.Wait(0,5800).then(O.Ease(0,1,800)),dC:O.Wait("",6200).then(v.Measurement(Le(e),Se(e),20,1200)),cOpacity:O.Wait(0,7400).then(O.Ease(0,1,800))});var e}),[n.tri]),c=r.fn(t),s=c.rOpacity,o=c.hOpacity,l=c.vOpacity,h=a.fn(t),d=h.d,p=h.opacity,j=i.fn(t),f=j.dA,b=j.aOpacity,m=j.dB,x=j.bOpacity,y=j.dC,g=j.cOpacity,M=Ne(n.tri),w=ke(n.tri),E=We(n.tri);return Object(Nt.jsxs)(Nt.Fragment,{children:[Object(Nt.jsx)(Tt,{d:f,label:"a",labelPos:M,labelOpacity:b}),Object(Nt.jsx)(Tt,{d:m,label:"b",labelPos:w,labelOpacity:x}),Object(Nt.jsx)(Tt,{d:y,label:"c",labelPos:E,labelOpacity:g}),Object(Nt.jsx)(Wt,{d:d,opacity:p}),Object(Nt.jsx)(kt,{rOpacity:s,hOpacity:o,vOpacity:l})]})},duration:8200},{section:function(){var e=u.a.useContext($t).dispatch;return Object(Nt.jsxs)("section",{children:[Object(Nt.jsx)("h2",{children:"A Slight Reinterpretation"}),Object(Nt.jsxs)("p",{children:["We'll begin by reinterpreting the statement"," ",Object(Nt.jsxs)("code",{children:["a",Object(Nt.jsx)("sup",{children:"2"})," + b",Object(Nt.jsx)("sup",{children:"2"})," = c",Object(Nt.jsx)("sup",{children:"2"})]})," ","ever so slightly. In particular, we've constructed squares using each of the triangle's sides as a base. Since a square whose side length is"," ",Object(Nt.jsx)("code",{children:"s"})," has an area of"," ",Object(Nt.jsxs)("code",{children:["s",Object(Nt.jsx)("sup",{children:"2"})]}),", our new interpretation of the Pythagorean Theorem states that"," ",Object(Nt.jsx)("em",{children:"the two smaller squares together have exactly the same area as the larger square"}),"."]}),Object(Nt.jsx)("p",{children:"This is what we'll demonstrate in the steps to come."}),Object(Nt.jsxs)("p",{children:["Is this reasonable? When the triangle is thin, as in this"," ",Object(Nt.jsx)("button",{onClick:function(){return e(r.makeThin())},children:"example"}),", the"," ",Object(Nt.jsx)("code",{children:"\u201ca\u201d"})," square is quite small, whereas the"," ",Object(Nt.jsx)("code",{children:"\u201cb\u201d"})," square is just slightly smaller than the"," ",Object(Nt.jsx)("code",{children:"\u201cc\u201d"})," square. As the triangle becomes thinner and thinner (try it out!), this behavior is accentuated. For this reason, the proposal seems plausible, at least for thin triangles. However, when the triangle's sides are"," ",Object(Nt.jsx)("button",{onClick:function(){return e(r.makeEven())},children:"roughly even"}),", it may be more difficult to tell whether the total area of the smaller squares equals that of the larger square."]})]})},graphics:function(e){var t=e.frame,n=u.a.useContext($t).state,r=u.a.useMemo((function(){return e=n.tri,O.Fork({dA:v.SvgPath(ee(e),1600),aOpacity:O.Wait(0,1600).then(O.Ease(0,1,600)),dB:v.SvgPath(ce(e),1600),bOpacity:O.Wait(0,1600).then(O.Ease(0,1,600)),dC:v.SvgPath(de(e),1600),cOpacity:O.Wait(0,1600).then(O.Ease(0,1,600))});var e}),[n.tri]),a=u.a.useMemo((function(){return n.tri,O.Fork({aLabelOpacity:O.Wait(0,2400).then(O.Ease(0,1,600)),bLabelOpacity:O.Wait(0,3e3).then(O.Ease(0,1,600)),cLabelOpacity:O.Wait(0,3600).then(O.Ease(0,1,600))})}),[n.tri]),i=r.fn(t),c=i.dA,s=i.aOpacity,o=i.dB,l=i.bOpacity,h=i.dC,d=i.cOpacity,p=a.fn(t),j=p.aLabelOpacity,f=p.bLabelOpacity,b=p.cLabelOpacity,m=te(n.tri),x=se(n.tri),y=pe(n.tri);return Object(Nt.jsxs)(Nt.Fragment,{children:[Object(Nt.jsx)(At,{className:"main-square",d:c,opacity:s}),Object(Nt.jsx)(At,{className:"main-square",d:o,opacity:l}),Object(Nt.jsx)(At,{className:"main-square",d:h,opacity:d}),Object(Nt.jsx)(Ct,{side:"a",pos:m,opacity:j}),Object(Nt.jsx)(Ct,{side:"b",pos:x,opacity:f}),Object(Nt.jsx)(Ct,{side:"c",pos:y,opacity:b}),Object(Nt.jsx)(Wt,{}),Object(Nt.jsx)(kt,{})]})},duration:4200},{section:function(){return Object(Nt.jsxs)("section",{children:[Object(Nt.jsx)("h2",{children:"Some Auxiliary Elements"}),Object(Nt.jsxs)("p",{children:["To start, we construct two larger rectangles around our original right triangle: one containing the ",Object(Nt.jsx)("code",{children:"\u201cc\u201d"})," square, and the other containing the two smaller squares."]}),Object(Nt.jsx)("p",{children:"Curiously enough, both of these \u201cauxiliary\u201d rectangles appear to be squares. Furthermore, no matter our triangle's proportions, both appear to have the same area. Is this the case? If so, can you see why? We'll look at these questions next."})]})},graphics:function(e){var t=e.frame,n=u.a.useContext($t).state,r=u.a.useMemo((function(){return e=n.tri,O.Fork({abPath:v.SvgPath(Te(e),1600),cPath:O.Wait("",1600).then(v.SvgPath(Ae(e),1600))});var e}),[n.tri]).fn(t),a=r.abPath,i=r.cPath;return Object(Nt.jsxs)(Nt.Fragment,{children:[Object(Nt.jsx)(At,{className:"main-square",pts:ee(n.tri)}),Object(Nt.jsx)(At,{className:"main-square",pts:ce(n.tri)}),Object(Nt.jsx)(At,{className:"main-square",pts:de(n.tri)}),Object(Nt.jsx)(Wt,{}),Object(Nt.jsx)(At,{className:"aux-square",d:a,opacity:0}),Object(Nt.jsx)(At,{className:"aux-square",d:i,opacity:0}),Object(Nt.jsx)(kt,{})]})},duration:3200},{section:function(){return Object(Nt.jsxs)("section",{children:[Object(Nt.jsx)("h2",{children:"Computing Areas (1)"}),Object(Nt.jsxs)("p",{children:["What are the areas of these auxiliary rectangles? We can see that the one containing the two smaller squares has a side length of"," ",Object(Nt.jsx)("code",{children:"a + b"}),". So it is indeed a square (as we suspected) with an area of"," ",Object(Nt.jsxs)("code",{children:["(a + b)",Object(Nt.jsx)("sup",{children:"2"})]}),"."]})]})},graphics:function(e){var t=e.frame,n=u.a.useContext($t).state,r=u.a.useMemo((function(){return e=n.tri,O.Fork({dA1:v.Measurement(Ie(e),De(e),20,1200),a1Opacity:O.Wait(0,1200).then(O.Ease(0,1,800)),dB1:O.Wait("",1600).then(v.Measurement(Be(e),Fe(e),20,1200)),b1Opacity:O.Wait(0,2800).then(O.Ease(0,1,800)),dA2:v.Measurement(Ue(e),ze(e),20,1200),a2Opacity:O.Wait(0,1200).then(O.Ease(0,1,800)),dB2:O.Wait("",1600).then(v.Measurement(Ge(e),Ze(e),20,1200)),b2Opacity:O.Wait(0,2800).then(O.Ease(0,1,800))});var e}),[n.tri]).fn(t),a=r.dA1,i=r.a1Opacity,c=r.dB1,s=r.b1Opacity,o=r.dA2,l=r.a2Opacity,h=r.dB2,d=r.b2Opacity,p=Re(n.tri),j=He(n.tri),f=Xe(n.tri),b=_e(n.tri);return Object(Nt.jsxs)(Nt.Fragment,{children:[Object(Nt.jsx)(At,{className:"main-square",pts:ee(n.tri)}),Object(Nt.jsx)(At,{className:"main-square",pts:ce(n.tri)}),Object(Nt.jsx)(At,{className:"main-square dim",pts:de(n.tri)}),Object(Nt.jsx)(Wt,{}),Object(Nt.jsx)(At,{className:"aux-square",pts:Te(n.tri),opacity:0}),Object(Nt.jsx)(Tt,{d:a,label:"a",labelPos:p,labelOpacity:i}),Object(Nt.jsx)(Tt,{d:c,label:"b",labelPos:j,labelOpacity:s}),Object(Nt.jsx)(Tt,{d:o,label:"a",labelPos:f,labelOpacity:l}),Object(Nt.jsx)(Tt,{d:h,label:"b",labelPos:b,labelOpacity:d}),Object(Nt.jsx)(kt,{})]})},duration:3400},{section:function(){return Object(Nt.jsxs)("section",{children:[Object(Nt.jsx)("h2",{children:"Computing Areas (2)"}),Object(Nt.jsxs)("p",{children:["The area of the second auxiliar rectangle is a bit trickier to compute. However, once we see that our original right triangle appears \u201ccopied\u201d inside of it, it's clear that its sides have length"," ",Object(Nt.jsx)("code",{children:"a + b"})," as well. Accordingly, it is ",Object(Nt.jsx)("em",{children:"also"})," a square with area"," ",Object(Nt.jsxs)("code",{children:["(a + b)",Object(Nt.jsx)("sup",{children:"2"})]}),"."]}),Object(Nt.jsxs)("p",{children:["This confirms what we first suspected several steps back, namely that both auxiliary rectangles have ",Object(Nt.jsx)("em",{children:"the same area"}),"."]})]})},graphics:function(e){var t=e.frame,n=u.a.useContext($t).state,r=u.a.useMemo((function(){return function(e){var t=Ye(e),n=Qe(e),r=$e(e),a=et(e);return O.Fork({tri1Pose:O.Ease(t,n,1200),tri1Opacity:O.Ease(0,1,400),tri2Pose:O.Wait(n,1200).then(O.Ease(n,r,1200)),tri2Opacity:O.Wait(0,1200).then(O.Ease(0,1,400)),tri3Pose:O.Wait(r,2400).then(O.Ease(r,a,1200)),tri3Opacity:O.Wait(0,2400).then(O.Ease(0,1,400))})}(n.tri)}),[n.tri]),a=u.a.useMemo((function(){return e=n.tri,O.Fork({dA1:O.Wait("",4e3).then(v.Measurement(ct(e),st(e),20,1200)),a1Opacity:O.Wait(0,5200).then(O.Ease(0,1,800)),dB1:O.Wait("",5600).then(v.Measurement(ut(e),ot(e),20,1200)),b1Opacity:O.Wait(0,6800).then(O.Ease(0,1,800)),dA2:O.Wait("",4e3).then(v.Measurement(dt(e),pt(e),20,1200)),a2Opacity:O.Wait(0,5200).then(O.Ease(0,1,800)),dB2:O.Wait("",5600).then(v.Measurement(jt(e),ft(e),20,1200)),b2Opacity:O.Wait(0,6800).then(O.Ease(0,1,800))});var e}),[n.tri]),i=r.fn(t),c=i.tri1Pose,s=i.tri1Opacity,o=i.tri2Pose,l=i.tri2Opacity,h=i.tri3Pose,d=i.tri3Opacity,p=Ke(n.tri),j=a.fn(t),f=j.dA1,b=j.a1Opacity,m=j.dB1,x=j.b1Opacity,y=j.dA2,g=j.a2Opacity,M=j.dB2,w=j.b2Opacity,E=lt(n.tri),P=ht(n.tri),L=bt(n.tri),S=mt(n.tri);return Object(Nt.jsxs)(Nt.Fragment,{children:[Object(Nt.jsx)(At,{className:"main-square dim",pts:ee(n.tri)}),Object(Nt.jsx)(At,{className:"main-square dim",pts:ce(n.tri)}),Object(Nt.jsx)(At,{className:"main-square",pts:de(n.tri)}),Object(Nt.jsx)(Wt,{}),Object(Nt.jsx)(Vt,{className:"main-triangle-copy",pts:p,pose:c,opacity:s}),Object(Nt.jsx)(Vt,{className:"main-triangle-copy",pts:p,pose:o,opacity:l}),Object(Nt.jsx)(Vt,{className:"main-triangle-copy",pts:p,pose:h,opacity:d}),Object(Nt.jsx)(Tt,{d:f,label:"a",labelPos:E,labelOpacity:b}),Object(Nt.jsx)(Tt,{d:m,label:"b",labelPos:P,labelOpacity:x}),Object(Nt.jsx)(Tt,{d:y,label:"a",labelPos:L,labelOpacity:g}),Object(Nt.jsx)(Tt,{d:M,label:"b",labelPos:S,labelOpacity:w}),Object(Nt.jsx)(At,{className:"aux-square",pts:Ae(n.tri),opacity:0}),Object(Nt.jsx)(kt,{})]})},duration:7600},{section:function(){return Object(Nt.jsxs)("section",{children:[Object(Nt.jsx)("h2",{children:"Considering the Leftovers (1)"}),Object(Nt.jsxs)("p",{children:["We've just seen that the second auxiliary square contains 4 copies of the original right triangle. Its remaining area is occupied by the square whose area is"," ",Object(Nt.jsxs)("code",{children:["c",Object(Nt.jsx)("sup",{children:"2"})]}),". In other words,"," ",Object(Nt.jsxs)("code",{children:["c",Object(Nt.jsx)("sup",{children:"2"})]})," ","is the total area left over after removing 4 right triangles from the auxiliary square."]}),Object(Nt.jsxs)("p",{children:["If we call the area of the auxiliary square ",Object(Nt.jsx)("code",{children:"S"}),", and the area of our original right triangle ",Object(Nt.jsx)("code",{children:"T"}),", we can express this relationship symbolically as"," ",Object(Nt.jsxs)("code",{children:["c",Object(Nt.jsx)("sup",{children:"2"})," = S - 4T"]}),"."]})]})},graphics:function(e){var t=e.frame,n=u.a.useContext($t).state,r=u.a.useMemo((function(){return n.tri,O.Fork({c2LabelOpacity:O.Wait(0,4e3).then(O.Ease(0,1,800)),auxOpacity:O.Wait(1,3400).then(O.Ease(1,0,800)),auxLabelOpacity:O.Ease(0,1,800).then(O.Wait(1,2800)).then(O.Ease(1,0,800)),mainTriOpacity:O.Wait(0,1e3).then(O.Ease(0,1,800)).then(O.Wait(1,4600)).then(O.Ease(1,0,800)),mainTriLabelOpacity:O.Wait(0,4e3).then(O.Ease(0,1,800)).then(O.Wait(1,1900)).then(O.Ease(1,0,800)),tri1Opacity:O.Wait(0,1500).then(O.Ease(0,1,800)).then(O.Wait(1,4600)).then(O.Ease(1,0,800)),tri1LabelOpacity:O.Wait(0,4e3).then(O.Ease(0,1,800)).then(O.Wait(1,2400)).then(O.Ease(1,0,800)),tri2Opacity:O.Wait(0,2e3).then(O.Ease(0,1,800)).then(O.Wait(1,4600)).then(O.Ease(1,0,800)),tri2LabelOpacity:O.Wait(0,4e3).then(O.Ease(0,1,800)).then(O.Wait(1,2900)).then(O.Ease(1,0,800)),tri3Opacity:O.Wait(0,2500).then(O.Ease(0,1,800)).then(O.Wait(1,4600)).then(O.Ease(1,0,800)),tri3LabelOpacity:O.Wait(0,4e3).then(O.Ease(0,1,800)).then(O.Wait(1,3400)).then(O.Ease(1,0,800))})}),[n.tri]).fn(t),a=r.c2LabelOpacity,i=r.auxOpacity,c=r.auxLabelOpacity,s=r.mainTriOpacity,o=r.mainTriLabelOpacity,l=r.tri1Opacity,h=r.tri1LabelOpacity,d=r.tri2Opacity,p=r.tri2LabelOpacity,j=r.tri3Opacity,f=r.tri3LabelOpacity,b=Ke(n.tri);return Object(Nt.jsxs)(Nt.Fragment,{children:[Object(Nt.jsx)(At,{className:"main-square dim",pts:ee(n.tri)}),Object(Nt.jsx)(At,{className:"main-square dim",pts:ce(n.tri)}),Object(Nt.jsx)(At,{className:"main-square",pts:de(n.tri)}),Object(Nt.jsx)(At,{className:"aux-square",pts:Ae(n.tri),opacity:i}),Object(Nt.jsx)(It,{className:"aux-square-label",name:"S",pos:pe(n.tri),opacity:c}),Object(Nt.jsx)(Ct,{side:"c",pos:pe(n.tri),opacity:a}),Object(Nt.jsx)(Vt,{className:"main-triangle-copy",pts:b,pose:Qe(n.tri),opacity:l}),Object(Nt.jsx)(Vt,{className:"main-triangle-copy",pts:b,pose:$e(n.tri),opacity:d}),Object(Nt.jsx)(Vt,{className:"main-triangle-copy",pts:b,pose:et(n.tri),opacity:j}),Object(Nt.jsx)(Wt,{opacity:s,strokeOpacity:s}),Object(Nt.jsx)(It,{className:"tri-label",name:"T",pos:xt(n.tri),opacity:o}),Object(Nt.jsx)(It,{className:"tri-label",name:"T",pos:yt(n.tri),opacity:h}),Object(Nt.jsx)(It,{className:"tri-label",name:"T",pos:vt(n.tri),opacity:p}),Object(Nt.jsx)(It,{className:"tri-label",name:"T",pos:gt(n.tri),opacity:f}),Object(Nt.jsx)(kt,{})]})},duration:1e4},{section:function(){return Object(Nt.jsxs)("section",{children:[Object(Nt.jsx)("h2",{children:"Considering the Leftovers (2)"}),Object(Nt.jsxs)("p",{children:["The other auxiliary square has a similar property. In particular, it contains 4 copies of the original triangle, and its remaining area is occupied by the squares whose areas are"," ",Object(Nt.jsxs)("code",{children:["a",Object(Nt.jsx)("sup",{children:"2"})]})," ","and"," ",Object(Nt.jsxs)("code",{children:["b",Object(Nt.jsx)("sup",{children:"2"})]}),". In other words,"," ",Object(Nt.jsxs)("code",{children:["a",Object(Nt.jsx)("sup",{children:"2"})," + b",Object(Nt.jsx)("sup",{children:"2"})]})," ","is the total area left over after removing 4 right triangles from the original auxiliary square."]}),Object(Nt.jsxs)("p",{children:["Using the names we devised in the previous step (and recalling that both auxiliary squares have the same area), we can express this discovery like so:"," ",Object(Nt.jsxs)("code",{children:["a",Object(Nt.jsx)("sup",{children:"2"})," + b",Object(Nt.jsx)("sup",{children:"2"})," = S - 4T"]}),"."]}),Object(Nt.jsxs)("p",{children:["This looks familiar! We determined in the previous step that"," ",Object(Nt.jsxs)("code",{children:["c",Object(Nt.jsx)("sup",{children:"2"})," = S - 4T"]})," ","as well. Since"," ",Object(Nt.jsx)("em",{children:"two things that are equal to the same thing are equal to each other"}),", it must be the case that"," ",Object(Nt.jsxs)("code",{children:["a",Object(Nt.jsx)("sup",{children:"2"})," + b",Object(Nt.jsx)("sup",{children:"2"})," = c",Object(Nt.jsx)("sup",{children:"2"})]}),"."]})]})},graphics:function(e){var t=e.frame,n=u.a.useContext($t).state,r=u.a.useMemo((function(){return function(e){var t=Ye(e),n=tt(e),r=nt(e),a=rt(e);return O.Fork({tri1Pose:O.Ease(t,n,1200),tri1Opacity:O.Ease(0,1,400).then(O.Wait(1,6e3)).then(O.Ease(1,0,1200)),tri2Pose:O.Wait(n,1400).then(O.Ease(n,r,1200)),tri2Opacity:O.Wait(0,1200).then(O.Ease(0,1,400)).then(O.Wait(1,4800)).then(O.Ease(1,0,1200)),tri3Pose:O.Wait(r,2800).then(O.Ease(r,a,1200)),tri3Opacity:O.Wait(0,2800).then(O.Ease(0,1,400)).then(O.Wait(1,3200)).then(O.Ease(1,0,1200)),mainTriOpacity:O.Wait(1,6400).then(O.Ease(1,0,1200)),squareLabelOpacity:O.Wait(0,4e3).then(O.Ease(0,1,800)),triLabelOpacity:O.Wait(0,4e3).then(O.Ease(0,1,800)).then(O.Wait(1,1600)).then(O.Ease(1,0,1200))})}(n.tri)}),[n.tri]).fn(t),a=r.tri1Pose,i=r.tri1Opacity,c=r.tri2Pose,s=r.tri2Opacity,o=r.tri3Pose,l=r.tri3Opacity,h=r.mainTriOpacity,d=r.squareLabelOpacity,p=r.triLabelOpacity,j=Ke(n.tri);return Object(Nt.jsxs)(Nt.Fragment,{children:[Object(Nt.jsx)(At,{className:"main-square",pts:ee(n.tri)}),Object(Nt.jsx)(At,{className:"main-square",pts:ce(n.tri)}),Object(Nt.jsx)(At,{className:"main-square dim",pts:de(n.tri)}),Object(Nt.jsx)(Wt,{opacity:h,strokeOpacity:h}),Object(Nt.jsx)(Vt,{className:"main-triangle-copy",pts:j,pose:a,opacity:i}),Object(Nt.jsx)(Vt,{className:"main-triangle-copy",pts:j,pose:c,opacity:s}),Object(Nt.jsx)(Vt,{className:"main-triangle-copy",pts:j,pose:o,opacity:l}),Object(Nt.jsx)(At,{className:"aux-square",pts:Te(n.tri),opacity:0}),Object(Nt.jsx)(Ct,{side:"a",pos:te(n.tri),opacity:d}),Object(Nt.jsx)(Ct,{side:"b",pos:se(n.tri),opacity:d}),Object(Nt.jsx)(It,{className:"tri-label",name:"T",pos:xt(n.tri),opacity:p}),Object(Nt.jsx)(It,{className:"tri-label",name:"T",pos:Mt(n.tri),opacity:p}),Object(Nt.jsx)(It,{className:"tri-label",name:"T",pos:wt(n.tri),opacity:p}),Object(Nt.jsx)(It,{className:"tri-label",name:"T",pos:Et(n.tri),opacity:p}),Object(Nt.jsx)(kt,{})]})},duration:7600},{section:function(){return Object(Nt.jsxs)("section",{children:[Object(Nt.jsx)("h2",{children:"Epilogue: Is this a proof?"}),Object(Nt.jsxs)("p",{children:["In what sense have we ",Object(Nt.jsx)("em",{children:"proven"})," that"," ",Object(Nt.jsxs)("code",{children:["a",Object(Nt.jsx)("sup",{children:"2"})," + b",Object(Nt.jsx)("sup",{children:"2"})," = c",Object(Nt.jsx)("sup",{children:"2"})]})," ","?"]}),Object(Nt.jsx)("h3",{children:"Notes"}),Object(Nt.jsxs)("p",{children:["I first saw this proof in Paul Lockhart's book ",Object(Nt.jsx)("em",{children:"Measurement"}),". There are simpler mosaic-style proofs of the Pythagorean Theorem, but I enjoy the way Lockhart assembled this one."]}),Object(Nt.jsxs)("p",{children:["This webpage is written in React (using TypeScript), and I created the animations using a small collection of combinators along with a special-purpose hook. For more information, see the"," ",Object(Nt.jsx)("a",{href:"https://github.com/wjlewis/pymos",target:"_blank",rel:"noreferrer",children:"source"}),"."]})]})},graphics:function(e){var t=e.frame,n=u.a.useContext($t).state,r=u.a.useMemo((function(){return function(e){var t=G(e).length()/2,n=z(e).length()/2;return O.Fork({anglePath:v.SvgPath([e.h,e.v,he(e)],1200,!1),angleMeasure1APath:O.Wait("",300).then(v.SvgArc(e.h,J(e),G(e),t,500)),angleMeasure1BPath:O.Wait("",300).then(v.SvgArc(e.h,J(e),G(e),t-6,500)),angleMeasure2Path:O.Wait("",600).then(v.SvgArc(e.v,Z(e),z(e),n,500)),angleMeasure3APath:O.Wait("",1e3).then(v.SvgArc(e.v,Pt(e),Lt(e),t,500)),angleMeasure3BPath:O.Wait("",1e3).then(v.SvgArc(e.v,Pt(e),Lt(e),t-6,500)),angleMeasure4Path:O.Wait("",1300).then(v.SvgArc(he(e),St(e),qt(e),n,500))})}(n.tri)}),[n.tri]).fn(t),a=r.anglePath,i=r.angleMeasure1APath,c=r.angleMeasure1BPath,s=r.angleMeasure2Path,o=r.angleMeasure3APath,l=r.angleMeasure3BPath,h=r.angleMeasure4Path;return Object(Nt.jsxs)(Nt.Fragment,{children:[Object(Nt.jsx)(At,{className:"main-square dim ",pts:ee(n.tri)}),Object(Nt.jsx)(At,{className:"main-square dim ",pts:ce(n.tri)}),Object(Nt.jsx)(At,{className:"main-square",pts:de(n.tri)}),Object(Nt.jsx)(Wt,{}),Object(Nt.jsx)("path",{className:"angle-measure inside",d:i}),Object(Nt.jsx)("path",{className:"angle-measure inside",d:c}),Object(Nt.jsx)("path",{className:"angle-measure inside",d:s}),Object(Nt.jsx)("path",{className:"angle-measure",d:o}),Object(Nt.jsx)("path",{className:"angle-measure",d:l}),Object(Nt.jsx)("path",{className:"angle-measure",d:h}),Object(Nt.jsx)(At,{className:"angle-path",d:a,opacity:0}),Object(Nt.jsx)(At,{className:"aux-square",pts:Ae(n.tri),opacity:0}),Object(Nt.jsx)(kt,{})]})},duration:1800}];function Bt(e,t){switch(t.type){case L.PreviousStep:return function(e){return Object(b.a)(Object(b.a)({},e),{},{stepIndex:Math.max(0,e.stepIndex-1)})}(e);case L.NextStep:return function(e){return Object(b.a)(Object(b.a)({},e),{},{stepIndex:Math.min(Dt.length-1,e.stepIndex+1)})}(e);case L.MouseDownRVertex:return function(e){var t=e.tri,n=t.r,r=t.h,a=t.v,i=r.x-n.x,c=a.y-n.y;return Object(b.a)(Object(b.a)({},e),{},{dragSubject:j.RVertex(i,c)})}(e);case L.MouseDownHVertex:return function(e){return Object(b.a)(Object(b.a)({},e),{},{dragSubject:j.HVertex()})}(e);case L.MouseDownVVertex:return function(e){return Object(b.a)(Object(b.a)({},e),{},{dragSubject:j.VVertex()})}(e);case L.MouseMove:return function(e,t){return e.dragSubject.match({none:function(){return e},r:function(n,r){return function(e,t,n,r){var a=new g(r.x+t,r.y),i=new g(r.x,r.y+n);return Object(b.a)(Object(b.a)({},e),{},{tri:{r:r,h:a,v:i}})}(e,n,r,t)},h:function(){return function(e,t){var n=e.tri,r=n.r,a=n.v,i=Math.abs(t.x-r.x)<Ft?r.x+Ft*E(t.x-r.x):t.x,c=Math.abs(t.y-a.y)<Ft?a.y+Ft*E(t.y-a.y):t.y,s=new g(i,c),u=new g(r.x,c);return Object(b.a)(Object(b.a)({},e),{},{tri:Object(b.a)(Object(b.a)({},e.tri),{},{r:u,h:s})})}(e,t)},v:function(){return function(e,t){var n=e.tri,r=n.r,a=n.h,i=Math.abs(t.x-a.x)<Ft?a.x+Ft*E(t.x-a.x):t.x,c=Math.abs(t.y-r.y)<Ft?r.y+Ft*E(t.y-r.y):t.y,s=new g(i,c),u=new g(i,r.y);return Object(b.a)(Object(b.a)({},e),{},{tri:Object(b.a)(Object(b.a)({},e.tri),{},{r:u,v:s})})}(e,t)}})}(e,t.payload);case L.MouseUp:return function(e){var t=Rt(e,e.ui.dims);return Object(b.a)(Object(b.a)({},e),{},{ui:Object(b.a)(Object(b.a)({},e.ui),{},{triOutOfBounds:t}),dragSubject:j.None()})}(e);case L.MakeThin:return function(e){return e.ui.device===x.Laptop?function(e){var t=new g(-80,0),n=new g(80,t.y),r=new g(t.x,-40);return Object(b.a)(Object(b.a)({},e),{},{tri:Object(b.a)(Object(b.a)({},e.tri),{},{r:t,h:n,v:r})})}(e):function(e){var t=new g(-60,0),n=new g(60,t.y),r=new g(t.x,-40);return Object(b.a)(Object(b.a)({},e),{},{tri:Object(b.a)(Object(b.a)({},e.tri),{},{r:t,h:n,v:r})})}(e)}(e);case L.MakeEven:return function(e){return e.ui.device===x.Laptop?function(e){var t=new g(0,20),n=new g(90,t.y),r=new g(t.x,-80);return Object(b.a)(Object(b.a)({},e),{},{tri:Object(b.a)(Object(b.a)({},e.tri),{},{r:t,h:n,v:r})})}(e):function(e){var t=new g(-25,20),n=new g(25,t.y),r=new g(t.x,-20);return Object(b.a)(Object(b.a)({},e),{},{tri:Object(b.a)(Object(b.a)({},e.tri),{},{r:t,h:n,v:r})})}(e)}(e);case L.UpdateDims:return function(e,t){var n=Rt(e,t);return Object(b.a)(Object(b.a)({},e),{},{ui:Object(b.a)(Object(b.a)({},e.ui),{},{dims:t,triOutOfBounds:n})})}(e,t.payload);case L.UpdateDevice:return function(e,t){var n=e.ui.device,r=function(e,t){return e===x.Laptop&&t===x.Mobile}(n,t)?q:function(e,t){return e===x.Mobile&&t===x.Laptop}(n,t)?S:e.tri;return Object(b.a)(Object(b.a)({},e),{},{tri:r,ui:Object(b.a)(Object(b.a)({},e.ui),{},{device:t})})}(e,t.payload);case L.ResetMainTriangle:return function(e){var t=e.ui.device===x.Laptop?S:q;return Object(b.a)(Object(b.a)({},e),{},{tri:t,ui:Object(b.a)(Object(b.a)({},e.ui),{},{triOutOfBounds:!1})})}(e);case L.ToggleTheme:return function(e){var t=e.ui.theme===y.Light?y.Dark:y.Light;return Object(b.a)(Object(b.a)({},e),{},{ui:Object(b.a)(Object(b.a)({},e.ui),{},{theme:t})})}(e);default:return e}}var Ft=40;function Rt(e,t){var n=e.tri.r,r=t.width,a=t.height,i=Math.abs(n.x)>r/2,c=Math.abs(n.y)>a/2;return i||c}function Ht(e){return e.stepIndex>0}function Ut(e){return e.stepIndex<Dt.length-1}function zt(e){return"".concat(e.stepIndex+1," / ").concat(Dt.length)}function Gt(e){return e.stepIndex}function Zt(e){return Dt[e.stepIndex].section}function Xt(e){return Dt[e.stepIndex].graphics}function _t(e){return e.ui.triOutOfBounds}function Jt(e){return e.ui.dims}function Yt(e){return Dt[e.stepIndex].duration}function Kt(e){return e.ui.theme===y.Light}function Qt(e){return e.ui.theme===y.Light?"Dark":"Light"}var $t=u.a.createContext({state:N,dispatch:null});function en(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w,n=u.a.useState({width:0,height:0,left:0,top:0}),r=Object(h.a)(n,2),a=r[0],i=r[1];return u.a.useLayoutEffect((function(){function n(){if(e.current){var n=e.current.getBoundingClientRect(),r={width:n.width,height:n.height,left:n.left,top:n.top};return t(r),i(r)}}return n(),window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[e,t]),a}function tn(e){var t=u.a.useRef(e);u.a.useLayoutEffect((function(){function e(){return t.current(window.innerWidth>=1024?x.Laptop:x.Mobile)}return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[])}var nn=n.p+"static/media/sonobe.cfe1c59c.svg",rn=function(){var e=u.a.useContext($t),t=e.state,n=e.dispatch;return Object(Nt.jsx)("header",{children:Object(Nt.jsxs)("nav",{children:[Object(Nt.jsx)("a",{href:"https://wjlewis.github.io",target:"_blank",rel:"noreferrer",children:Object(Nt.jsx)("img",{id:"icon",src:nn,alt:"A sonobe module"})}),Object(Nt.jsxs)("div",{children:[Object(Nt.jsx)("button",{className:"theme-toggle",onClick:function(){return n(r.toggleTheme())},children:i.altThemeString(t)}),Object(Nt.jsx)("a",{href:"https://www.github.com/wjlewis/pymos",target:"_blank",rel:"noreferrer",children:"Source"})]})]})})},an=function(){var e=u.a.useContext($t).state,t=i.currentSection(e);return Object(Nt.jsx)("article",{id:"prose",children:Object(Nt.jsx)(t,{})})},cn=function(e){var t=e.name,n=e.pos,r=n.x,a=n.y;return Object(Nt.jsxs)("g",{className:"debug-point",children:[Object(Nt.jsx)("text",{x:r,y:a,dx:"0.5em",dy:"-0.3em",children:t}),Object(Nt.jsx)("circle",{cx:r,cy:a,r:"5"})]})},sn=function(e){var t=e.pts,n="M ".concat(t.map((function(e){return"".concat(e.x," ").concat(e.y)})).join(" L ")," Z");return Object(Nt.jsx)("path",{className:"debug-polygon",d:n})},un=function(){var e=u.a.useContext($t).state.tri,t=e.r,n=e.h,r=e.v,i=a.a0(e),c=a.a1(e),s=a.b0(e),o=a.b1(e),l=a.c0(e),h=a.c1(e),d=a.abOut(e),p=a.abIn(e),j=a.cAuxV(e),f=a.cAuxDiag(e),b=a.cAuxH(e);return Object(Nt.jsxs)("g",{children:[Object(Nt.jsx)(cn,{name:"r",pos:t}),Object(Nt.jsx)(cn,{name:"h",pos:n}),Object(Nt.jsx)(cn,{name:"v",pos:r}),Object(Nt.jsx)(sn,{pts:[r,i,c,t]}),Object(Nt.jsx)(sn,{pts:[t,s,o,n]}),Object(Nt.jsx)(sn,{pts:[n,l,h,r]}),Object(Nt.jsx)(cn,{name:"a0",pos:i}),Object(Nt.jsx)(cn,{name:"a1",pos:c}),Object(Nt.jsx)(cn,{name:"b0",pos:s}),Object(Nt.jsx)(cn,{name:"b1",pos:o}),Object(Nt.jsx)(cn,{name:"c0",pos:l}),Object(Nt.jsx)(cn,{name:"c1",pos:h}),Object(Nt.jsx)(sn,{pts:[r,i,d,o,p]}),Object(Nt.jsx)(sn,{pts:[t,j,f,b]}),Object(Nt.jsx)(cn,{name:"abOut",pos:d}),Object(Nt.jsx)(cn,{name:"abIn",pos:p}),Object(Nt.jsx)(cn,{name:"cAuxV",pos:j}),Object(Nt.jsx)(cn,{name:"cAuxDiag",pos:f}),Object(Nt.jsx)(cn,{name:"cAuxH",pos:b})]})},on=function(){var e=u.a.useContext($t),t=e.state,n=e.dispatch;return i.isTriOutOfBounds(t)?Object(Nt.jsx)("div",{id:"main-triangle-reset",children:Object(Nt.jsx)("button",{onClick:function(){return n(r.resetMainTriangle())},children:"Reset Triangle"})}):null},ln=function(e){var t=e.min,n=e.max,r=e.value,a=e.onChange,i=u.a.useState(!1),c=Object(h.a)(i,2),s=c[0],o=c[1],l=u.a.useRef(),d=en(l),p=d.width,j=d.height,f=d.left;function b(e){return function(e,t,n){return e<t?t:e>n?n:e}((e-m)/x*(n-t)+t,t,n)}u.a.useEffect((function(){function e(e){if(s)return a(b(e.clientX-f))}function t(e){if(s&&1===e.touches.length)return a(b(e.touches[0].clientX-f))}function n(){return o(!1)}return document.addEventListener("mousemove",e),document.addEventListener("touchmove",t),document.addEventListener("mouseup",n),document.addEventListener("touchend",n),function(){document.removeEventListener("mousemove",e),document.removeEventListener("touchmove",t),document.removeEventListener("mouseup",n),document.removeEventListener("touchend",n)}}));var m=40,O="translate(0 ".concat(j/2,")"),x=p-2*m,y=(r-t)/(n-t)*x;function v(){return o(!0)}return Object(Nt.jsx)("svg",{ref:l,width:"100%",height:"45px",onClick:function(e){return a(b(e.clientX-f))},children:Object(Nt.jsxs)("g",{transform:O,children:[Object(Nt.jsx)("line",{className:"slider-line",x1:m,y1:"0",x2:p-m,y2:"0",strokeWidth:"2",strokeLinecap:"round"}),Object(Nt.jsx)("circle",{className:"slider-button",onMouseDown:v,onTouchStart:v,cx:m+y,cy:"0",r:"15"})]})})},hn=n.p+"static/media/play.812a279b.svg",dn=n.p+"static/media/pause.bb5abc7d.svg",pn=n.p+"static/media/restart.410a94ba.svg",jn=function(e){var t=e.frame,n=e.playing,r=e.duration,a=e.togglePlay,i=e.setFrame,c=e.restart;var s=t>=r?pn:n?dn:hn,u=t>=r?"Restart":n?"Pause":"Play";return Object(Nt.jsxs)("div",{id:"controls",children:[Object(Nt.jsx)("button",{onClick:function(){return t>=r?c():a()},children:Object(Nt.jsx)("img",{src:s,alt:u})}),Object(Nt.jsx)(ln,{min:0,max:r,value:t,onChange:function(e){return i(e)}})]})},fn=function(e){var t=u.a.useContext($t),n=t.state,a=t.dispatch,c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=u.a.useState(0),r=Object(h.a)(n,2),a=r[0],i=r[1],c=u.a.useState(!0),s=Object(h.a)(c,2),o=s[0],l=s[1],d=u.a.useRef(0);u.a.useLayoutEffect((function(){i(0),l(!0),d.current=0}),t),u.a.useLayoutEffect((function(){var t,n;return o&&(n=requestAnimationFrame((function r(a){t||(t=a);var c=a-t+d.current;o&&c<e?(i(c),n=requestAnimationFrame(r)):(l(!1),i(e))}))),function(){return cancelAnimationFrame(n)}}),[o,e]);var p=u.a.useCallback((function(){o&&(d.current=a),l(!o)}),[o,a]),j=u.a.useCallback((function(){d.current=0,l(!0)}),[]),f=u.a.useCallback((function(e){o&&l(!1),d.current=e,i(e)}),[o]);return{duration:e,frame:a,playing:o,togglePlay:p,restart:j,setFrame:f}}(i.currentDuration(n),[i.stepIndex(n)]),s=u.a.useRef(null),o=en(s,u.a.useCallback((function(e){return a(r.updateDims(e))}),[a])),l=o.width/2,d=o.height/2;!function(e,t){var n=u.a.useState({left:0,top:0}),r=Object(h.a)(n,2),a=r[0],i=r[1],c=t.onMove,s=t.onUp;u.a.useEffect((function(){function t(){if(e.current){var t=e.current.getBoundingClientRect(),n=t.left,r=t.top;return i({left:n,top:r})}}return t(),window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[e]),u.a.useEffect((function(){function e(e){var t=a.left,n=a.top,r=e.clientX,i=e.clientY;return c(new g(r-t,i-n))}function t(t){if(1===t.touches.length)return e(t.touches[0])}function n(){return s()}return document.addEventListener("mousemove",e),document.addEventListener("touchmove",t),document.addEventListener("mouseup",n),document.addEventListener("touchend",n),function(){document.removeEventListener("mousemove",e),document.removeEventListener("touchmove",t),document.removeEventListener("mouseup",n),document.removeEventListener("touchend",n)}}),[c,s,a])}(s,{onMove:function(e){return a(r.mouseMove(new g(e.x-l,e.y-d)))},onUp:function(){return a(r.mouseUp())}});var p="translate(".concat(l," ").concat(d,")"),j=i.currentGraphics(n);return Object(Nt.jsxs)("article",{id:"illustration",children:[Object(Nt.jsx)("svg",{id:"canvas",ref:s,children:Object(Nt.jsxs)("g",{transform:"".concat(p),children:[Object(Nt.jsx)(j,{frame:c.frame}),e.debug&&Object(Nt.jsx)(un,{})]})}),Object(Nt.jsx)(jn,Object(b.a)({},c)),Object(Nt.jsx)(on,{})]})},bn=function(){var e=u.a.useContext($t),t=e.state,n=e.dispatch,a=!i.canGoPrevious(t),c=!i.canGoNext(t);return Object(Nt.jsx)("footer",{children:Object(Nt.jsxs)("nav",{children:[Object(Nt.jsx)("button",{onClick:function(){return n(r.previousStep())},style:{visibility:a?"hidden":"initial"},children:"Previous"}),Object(Nt.jsx)("span",{children:i.stepProgress(t)}),Object(Nt.jsx)("button",{onClick:function(){return n(r.nextStep())},style:{visibility:c?"hidden":"initial"},children:"Next"})]})})},mn=function(){var e=u.a.useReducer(Bt,N),t=Object(h.a)(e,2),n=t[0],a=t[1];return tn((function(e){return a(r.updateDevice(e))})),Object(Nt.jsx)("main",{className:i.isLight(n)?"light":"dark",children:Object(Nt.jsxs)($t.Provider,{value:{state:n,dispatch:a},children:[Object(Nt.jsx)(rn,{}),Object(Nt.jsxs)("article",{id:"content",children:[Object(Nt.jsx)(an,{}),Object(Nt.jsx)(fn,{})]}),Object(Nt.jsx)(bn,{})]})})};l.a.render(Object(Nt.jsx)(u.a.StrictMode,{children:Object(Nt.jsx)(mn,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.05e2bade.chunk.js.map