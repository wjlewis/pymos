(this.webpackJsonppymos=this.webpackJsonppymos||[]).push([[0],{16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"ActionType",(function(){return P})),n.d(r,"previousStep",(function(){return N})),n.d(r,"nextStep",(function(){return W})),n.d(r,"mouseDownRVertex",(function(){return T})),n.d(r,"mouseDownHVertex",(function(){return A})),n.d(r,"mouseDownVVertex",(function(){return C})),n.d(r,"mouseMove",(function(){return I})),n.d(r,"mouseUp",(function(){return V})),n.d(r,"makeThin",(function(){return D})),n.d(r,"makeEven",(function(){return B})),n.d(r,"updateDims",(function(){return F})),n.d(r,"updateDevice",(function(){return R})),n.d(r,"resetMainTriangle",(function(){return H})),n.d(r,"toggleTheme",(function(){return U}));var a={};n.r(a),n.d(a,"vr",(function(){return _})),n.d(a,"hr",(function(){return z})),n.d(a,"vh",(function(){return G})),n.d(a,"rv",(function(){return X})),n.d(a,"rh",(function(){return Z})),n.d(a,"hv",(function(){return J})),n.d(a,"aPerpNorm",(function(){return K})),n.d(a,"aPerp",(function(){return Y})),n.d(a,"a0",(function(){return Q})),n.d(a,"a1",(function(){return $})),n.d(a,"aSquare",(function(){return ee})),n.d(a,"aSquareLabel",(function(){return te})),n.d(a,"bPerpNorm",(function(){return ne})),n.d(a,"bPerp",(function(){return re})),n.d(a,"b0",(function(){return ae})),n.d(a,"b1",(function(){return ie})),n.d(a,"bSquare",(function(){return se})),n.d(a,"bSquareLabel",(function(){return ce})),n.d(a,"cPerpNorm",(function(){return oe})),n.d(a,"cPerp",(function(){return ue})),n.d(a,"c0",(function(){return le})),n.d(a,"c1",(function(){return he})),n.d(a,"cSquare",(function(){return de})),n.d(a,"cSquareLabel",(function(){return pe})),n.d(a,"abOut",(function(){return je})),n.d(a,"abIn",(function(){return fe})),n.d(a,"cAuxV",(function(){return be})),n.d(a,"cAuxDiag",(function(){return me})),n.d(a,"cAuxH",(function(){return xe})),n.d(a,"aMeasurementPerp",(function(){return ye})),n.d(a,"aMeasurementStart",(function(){return ve})),n.d(a,"aMeasurementEnd",(function(){return ge})),n.d(a,"bMeasurementPerp",(function(){return we})),n.d(a,"bMeasurementStart",(function(){return Me})),n.d(a,"bMeasurementEnd",(function(){return ke})),n.d(a,"cMeasurementPerp",(function(){return Ee})),n.d(a,"cMeasurementStart",(function(){return Pe})),n.d(a,"cMeasurementEnd",(function(){return qe})),n.d(a,"aMeasurementLabel",(function(){return Se})),n.d(a,"bMeasurementLabel",(function(){return Ne})),n.d(a,"cMeasurementLabel",(function(){return We})),n.d(a,"abAuxSquare",(function(){return Te})),n.d(a,"cAuxSquare",(function(){return Ae})),n.d(a,"abMeasurementHOut",(function(){return Ce})),n.d(a,"abMeasurementVOut",(function(){return Ie})),n.d(a,"aSquareMeasurement1Start",(function(){return Ve})),n.d(a,"aSquareMeasurement1End",(function(){return De})),n.d(a,"bSquareMeasurement1Start",(function(){return Be})),n.d(a,"bSquareMeasurement1End",(function(){return Fe})),n.d(a,"aSquareMeasurement1Label",(function(){return Re})),n.d(a,"bSquareMeasurement1Label",(function(){return He})),n.d(a,"aSquareMeasurement2Start",(function(){return Ue})),n.d(a,"aSquareMeasurement2End",(function(){return _e})),n.d(a,"bSquareMeasurement2Start",(function(){return ze})),n.d(a,"bSquareMeasurement2End",(function(){return Ge})),n.d(a,"aSquareMeasurement2Label",(function(){return Xe})),n.d(a,"bSquareMeasurement2Label",(function(){return Ze})),n.d(a,"isRightHanded",(function(){return Je})),n.d(a,"initTriPose",(function(){return Ke})),n.d(a,"triCopyPts",(function(){return Ye})),n.d(a,"triCopyC1Pose",(function(){return Qe})),n.d(a,"triCopyC2Pose",(function(){return $e})),n.d(a,"triCopyC3Pose",(function(){return et})),n.d(a,"triCopyAB1Pose",(function(){return tt})),n.d(a,"triCopyAB2Pose",(function(){return nt})),n.d(a,"triCopyAB3Pose",(function(){return rt})),n.d(a,"cMeasurementVOut",(function(){return at})),n.d(a,"cMeasurementHOut",(function(){return it})),n.d(a,"cSquareMeasurementA1Start",(function(){return st})),n.d(a,"cSquareMeasurementA1End",(function(){return ct})),n.d(a,"cSquareMeasurementB1Start",(function(){return ot})),n.d(a,"cSquareMeasurementB1End",(function(){return ut})),n.d(a,"cSquareMeasurementA1Label",(function(){return lt})),n.d(a,"cSquareMeasurementB1Label",(function(){return ht})),n.d(a,"cSquareMeasurementA2Start",(function(){return dt})),n.d(a,"cSquareMeasurementA2End",(function(){return pt})),n.d(a,"cSquareMeasurementB2Start",(function(){return jt})),n.d(a,"cSquareMeasurementB2End",(function(){return ft})),n.d(a,"cSquareMeasurementA2Label",(function(){return bt})),n.d(a,"cSquareMeasurementB2Label",(function(){return mt})),n.d(a,"triCopyLabelOut",(function(){return xt})),n.d(a,"mainTriLabel",(function(){return Ot})),n.d(a,"triCopyC1Label",(function(){return yt})),n.d(a,"triCopyC2Label",(function(){return vt})),n.d(a,"triCopyC3Label",(function(){return gt})),n.d(a,"triCopyAB1Label",(function(){return wt})),n.d(a,"triCopyAB2Label",(function(){return Mt})),n.d(a,"triCopyAB3Label",(function(){return kt})),n.d(a,"vC1",(function(){return Et})),n.d(a,"vCAuxV",(function(){return Pt})),n.d(a,"c1V",(function(){return qt})),n.d(a,"c1CAuxV",(function(){return Lt}));var i={};n.r(i),n.d(i,"canGoPrevious",(function(){return Ht})),n.d(i,"canGoNext",(function(){return Ut})),n.d(i,"stepProgress",(function(){return _t})),n.d(i,"stepIndex",(function(){return zt})),n.d(i,"currentSection",(function(){return Gt})),n.d(i,"currentGraphics",(function(){return Xt})),n.d(i,"isTriOutOfBounds",(function(){return Zt})),n.d(i,"dims",(function(){return Jt})),n.d(i,"currentDuration",(function(){return Kt})),n.d(i,"isLight",(function(){return Yt})),n.d(i,"altThemeString",(function(){return Qt}));var s,c=n(1),o=n.n(c),u=n(11),l=n.n(u),h=(n(16),n(3)),d=n(4),p=n(5),j=function(){function e(){Object(d.a)(this,e),this.type=void 0,this.hOffset=void 0,this.vOffset=void 0}return Object(p.a)(e,[{key:"match",value:function(e){switch(this.type){case s.None:return e.none();case s.RVertex:return e.r(this.hOffset,this.vOffset);case s.HVertex:return e.h();case s.VVertex:return e.v()}}}],[{key:"None",value:function(){var t=new e;return t.type=s.None,t}},{key:"RVertex",value:function(t,n){var r=new e;return r.type=s.RVertex,r.hOffset=t,r.vOffset=n,r}},{key:"HVertex",value:function(){var t=new e;return t.type=s.HVertex,t}},{key:"VVertex",value:function(){var t=new e;return t.type=s.VVertex,t}}]),e}();!function(e){e.None="None",e.RVertex="RVertex",e.HVertex="HVertex",e.VVertex="VVertex"}(s||(s={}));var f=n(8),b=n(2),m=n(10),x=function(){function e(t,n){Object(d.a)(this,e),this.fn=t,this.duration=n}return Object(p.a)(e,[{key:"then",value:function(t){var n=this;return new e((function(e){return e<n.duration?n.fn(e):t.fn(e-n.duration)}),this.duration+t.duration)}}],[{key:"Wait",value:function(t,n){return new e((function(e){return t}),n)}},{key:"Ease",value:function(t,n,r){return"number"===typeof t&&"number"===typeof n?e.EaseNumber(t,n,r):e.EaseVector(t,n,r)}},{key:"Fork",value:function(t){var n=Object.values(t).map((function(e){return e.duration}));return new e((function(e){return Object.keys(t).reduce((function(n,r){return Object(b.a)(Object(b.a)({},n),{},Object(f.a)({},r,t[r].fn(e)))}),{})}),Math.max.apply(Math,Object(m.a)(n).concat([0])))}},{key:"EaseNumber",value:function(t,n,r){var a=n-t;return new e((function(e){if(e<r){var i=e/r;return t+a*i*i*(3-2*i)}return n}),r)}},{key:"EaseVector",value:function(t,n,r){var a=n.plus(t.times(-1));return new e((function(e){if(e<r){var i=e/r;return t.plus(a.times(i*i*(3-2*i)))}return n}),r)}}]),e}();var O,y,v={SvgPath:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=n?[].concat(Object(m.a)(e),[e[0]]):e,a=t/(r.length-1);return new x((function(i){if(i<t){var s=Math.floor(i/a),c=r[s],o=r[s+1],u=(i-s*a)/a,l=c.plus(o.minus(c).times(u*u*(3-2*u))),h=r.slice(0,s+1).map((function(e){return"".concat(e.x," ").concat(e.y)})).join(" L ");return"M ".concat(h," L ").concat(l.x," ").concat(l.y)}return"M ".concat(e.map((function(e){return"".concat(e.x," ").concat(e.y)})).join(" L ")).concat(n?"Z":"")}),t)},SvgArc:function(e,t,n,r,a){var i=t.norm().times(r),s=e.plus(i),c=e.plus(n.norm().times(r)),o=t.angle(),u=o,l=t.cross(n),h=n.angle()-o,d=l<0?0:1;return new x((function(t){if(t<a){var n=t/a,o=h*n*n*(3-2*n),l=e.plus(i.rotate(o));return"M ".concat(s.x," ").concat(s.y," A ").concat(r," ").concat(r,", ").concat(u,", 0 ").concat(d,", ").concat(l.x," ").concat(l.y)}return"M ".concat(s.x," ").concat(s.y," A ").concat(r," ").concat(r,", ").concat(u,", 0 ").concat(d,", ").concat(c.x," ").concat(c.y)}),a)},Measurement:function(e,t,n,r){var a=.2*r,i=.6*r,s=t.minus(e),c=s.perp().norm().times(n/2),o=e.plus(c),u=e.minus(c),l=t.plus(c),h=t.minus(c),d=c.times(-2),p="M ".concat(o.x," ").concat(o.y," L ").concat(u.x," ").concat(u.y),j="M ".concat(e.x," ").concat(e.y," L ").concat(t.x," ").concat(t.y),f="M ".concat(l.x," ").concat(l.y," L ").concat(h.x," ").concat(h.y);return new x((function(t){if(t<a){var n=t/a,r=o.plus(d.times(n));return"M ".concat(o.x," ").concat(o.y," L ").concat(r.x," ").concat(r.y)}if(a<=t&&t<a+i){var c=(t-a)/i,u=e.plus(s.times(c*c*(3-2*c)));return"".concat(p," M ").concat(e.x," ").concat(e.y," L ").concat(u.x," ").concat(u.y)}if(a+i<=t&&t<a+i+a){var h=(t-a-i)/a,b=l.plus(d.times(h));return"".concat(p," ").concat(j," M ").concat(l.x," ").concat(l.y," L ").concat(b.x," ").concat(b.y)}return"".concat(p," ").concat(j," ").concat(f)}),r)}},g=function(){function e(t,n){Object(d.a)(this,e),this.x=t,this.y=n}return Object(p.a)(e,[{key:"plus",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"times",value:function(t){return new e(t*this.x,t*this.y)}},{key:"minus",value:function(t){return new e(this.x-t.x,this.y-t.y)}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"norm",value:function(){var e=this.length();if(0===e)throw new Error("attempt to norm 0-vector");return this.times(1/e)}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"proj",value:function(e){var t=e.dot(e);if(0===t)throw new Error("attempt to project onto the 0-vector");var n=this.dot(e);return e.times(n/t)}},{key:"perp",value:function(){return new e(-this.y,this.x)}},{key:"rotate",value:function(t){var n=this.x,r=this.y,a=Math.cos(t),i=Math.sin(t);return new e(a*n-i*r,i*n+a*r)}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"angle",value:function(){var e=Math.atan2(this.y,this.x);return e<0?e+2*Math.PI:e}}]),e}(),w=function(){function e(t,n){Object(d.a)(this,e),this.loc=t,this.angle=n}return Object(p.a)(e,[{key:"plus",value:function(t){return new e(this.loc.plus(t.loc),this.angle+t.angle)}},{key:"times",value:function(t){return new e(this.loc.times(t),t*this.angle)}}]),e}();function M(){}function k(e){return e>=0?1:-1}function E(e){var t,n;return function(r){return t&&t===r?n:(t=r,n=e(r))}}!function(e){e.Laptop="Laptop",e.Mobile="Mobile"}(O||(O={})),function(e){e.Light="Light",e.Dark="Dark"}(y||(y={}));var P,q={r:new g(-70,0),h:new g(70,0),v:new g(-70,-80)},L={r:new g(-25,20),h:new g(25,20),v:new g(-25,-20)},S={ui:{dims:{width:0,height:0},triOutOfBounds:!1,device:O.Laptop,theme:y.Light},tri:q,dragSubject:j.None(),stepIndex:0};function N(){return{type:P.PreviousStep}}function W(){return{type:P.NextStep}}function T(){return{type:P.MouseDownRVertex}}function A(){return{type:P.MouseDownHVertex}}function C(){return{type:P.MouseDownVVertex}}function I(e){return{type:P.MouseMove,payload:e}}function V(){return{type:P.MouseUp}}function D(){return{type:P.MakeThin}}function B(){return{type:P.MakeEven}}function F(e){return{type:P.UpdateDims,payload:e}}function R(e){return{type:P.UpdateDevice,payload:e}}function H(){return{type:P.ResetMainTriangle}}function U(){return{type:P.ToggleTheme}}!function(e){e.PreviousStep="PreviousStep",e.NextStep="NextStep",e.MouseDownRVertex="MouseDownRVertex",e.MouseDownHVertex="MouseDownHVertex",e.MouseDownVVertex="MouseDownVVertex",e.MouseMove="MouseMove",e.MouseUp="MouseUp",e.MakeThin="MakeThin",e.MakeEven="MakeEven",e.UpdateDims="UpdateDims",e.UpdateDevice="UpdateDevice",e.ResetMainTriangle="ResetMainTriangle",e.ToggleTheme="ToggleTheme"}(P||(P={}));var _=E((function(e){return e.r.minus(e.v)})),z=E((function(e){return e.r.minus(e.h)})),G=E((function(e){return e.h.minus(e.v)})),X=E((function(e){return _(e).times(-1)})),Z=E((function(e){return z(e).times(-1)})),J=E((function(e){return G(e).times(-1)})),K=E((function(e){return z(e).norm()})),Y=E((function(e){var t=_(e).length();return K(e).times(t)})),Q=E((function(e){return e.v.plus(Y(e))})),$=E((function(e){return e.r.plus(Y(e))})),ee=E((function(e){return[e.v,Q(e),$(e),e.r]})),te=E((function(e){var t=Q(e).minus(e.r).times(.5);return e.r.plus(t)})),ne=E((function(e){return _(e).norm()})),re=E((function(e){var t=z(e).length();return ne(e).times(t)})),ae=E((function(e){return e.r.plus(re(e))})),ie=E((function(e){return e.h.plus(re(e))})),se=E((function(e){return[e.r,ae(e),ie(e),e.h]})),ce=E((function(e){var t=ae(e).minus(e.h).times(.5);return e.h.plus(t)})),oe=E((function(e){var t=G(e),n=_(e);return n.proj(t).minus(n).norm()})),ue=E((function(e){var t=G(e).length();return oe(e).times(t)})),le=E((function(e){return e.h.plus(ue(e))})),he=E((function(e){return e.v.plus(ue(e))})),de=E((function(e){return[e.h,le(e),he(e),e.v]})),pe=E((function(e){var t=le(e).minus(e.v).times(.5);return e.v.plus(t)})),je=E((function(e){return ae(e).plus(Y(e))})),fe=E((function(e){return e.h.plus(X(e))})),be=E((function(e){var t=z(e).length(),n=X(e).norm().times(t);return e.v.plus(n)})),me=E((function(e){var t=Z(e),n=t.length()+_(e).length(),r=t.norm().times(n);return be(e).plus(r)})),xe=E((function(e){var t=_(e).length(),n=Z(e).norm().times(t);return e.h.plus(n)})),Oe=30,ye=E((function(e){return K(e).times(Oe)})),ve=E((function(e){return e.v.plus(ye(e))})),ge=E((function(e){return e.r.plus(ye(e))})),we=E((function(e){return ne(e).times(Oe)})),Me=E((function(e){return e.r.plus(we(e))})),ke=E((function(e){return e.h.plus(we(e))})),Ee=E((function(e){return oe(e).times(Oe)})),Pe=E((function(e){return e.h.plus(Ee(e))})),qe=E((function(e){return e.v.plus(Ee(e))})),Le=20,Se=E((function(e){var t=ve(e),n=ge(e).minus(t).times(.5),r=K(e).times(Le);return t.plus(n).plus(r)})),Ne=E((function(e){var t=Me(e),n=ke(e).minus(t).times(.5),r=ne(e).times(Le);return t.plus(n).plus(r)})),We=E((function(e){var t=Pe(e),n=qe(e).minus(t).times(.5),r=oe(e).times(Le);return t.plus(n).plus(r)})),Te=E((function(e){return[e.v,Q(e),je(e),ie(e),fe(e)]})),Ae=E((function(e){return[e.r,be(e),me(e),xe(e)]})),Ce=E((function(e){var t=Q(e).minus(e.v),n=t.norm().times(Oe);return t.plus(n)})),Ie=E((function(e){var t=ie(e).minus(e.h),n=t.norm().times(Oe);return t.plus(n)})),Ve=E((function(e){return e.v.plus(Ce(e))})),De=E((function(e){return e.r.plus(Ce(e))})),Be=De,Fe=E((function(e){return ae(e).plus(Ce(e))})),Re=E((function(e){var t=Ve(e),n=De(e).minus(t).times(.5),r=K(e).times(Le);return t.plus(n).plus(r)})),He=E((function(e){var t=Be(e),n=Fe(e).minus(t).times(.5),r=K(e).times(Le);return t.plus(n).plus(r)})),Ue=E((function(e){return $(e).plus(Ie(e))})),_e=E((function(e){return e.r.plus(Ie(e))})),ze=_e,Ge=E((function(e){return e.h.plus(Ie(e))})),Xe=E((function(e){var t=Ue(e),n=_e(e).minus(t).times(.5),r=ne(e).times(Le);return t.plus(n).plus(r)})),Ze=E((function(e){var t=ze(e),n=Ge(e).minus(t).times(.5),r=ne(e).times(Le);return t.plus(n).plus(r)})),Je=E((function(e){return Z(e).cross(X(e))>=0})),Ke=E((function(e){return new w(e.r,0)})),Ye=E((function(e){return[new g(0,0),Z(e),X(e)]})),Qe=E((function(e){var t=Je(e)?-Math.PI/2:Math.PI/2;return new w(be(e),t)})),$e=E((function(e){return new w(me(e),Math.PI)})),et=E((function(e){var t=Je(e)?-3*Math.PI/2:3*Math.PI/2;return new w(xe(e),t)})),tt=E((function(e){return new w(fe(e),Math.PI)})),nt=E((function(e){var t=Je(e)?-Math.PI/2:Math.PI/2;return new w($(e),t)})),rt=E((function(e){var t=Je(e)?Math.PI/2:-Math.PI/2;return new w(ae(e),t)})),at=E((function(e){return X(e).norm().times(Oe)})),it=E((function(e){return Z(e).norm().times(Oe)})),st=E((function(e){return be(e).plus(at(e))})),ct=E((function(e){return he(e).plus(at(e))})),ot=ct,ut=E((function(e){return me(e).plus(at(e))})),lt=E((function(e){var t=st(e),n=ct(e).minus(t).times(.5),r=ne(e).times(-20);return t.plus(n).plus(r)})),ht=E((function(e){var t=ot(e),n=ut(e).minus(t).times(.5),r=ne(e).times(-20);return t.plus(n).plus(r)})),dt=E((function(e){return me(e).plus(it(e))})),pt=E((function(e){return le(e).plus(it(e))})),jt=pt,ft=E((function(e){return xe(e).plus(it(e))})),bt=E((function(e){var t=dt(e),n=pt(e).minus(t).times(.5),r=K(e).times(-20);return t.plus(n).plus(r)})),mt=E((function(e){var t=jt(e),n=ft(e).minus(t).times(.5),r=K(e).times(-20);return t.plus(n).plus(r)})),xt=E((function(e){var t=X(e).times(.33);return Z(e).times(.33).plus(t)})),Ot=E((function(e){return e.r.plus(xt(e))})),yt=E((function(e){var t=Je(e)?3*Math.PI/2:Math.PI/2;return be(e).plus(xt(e).rotate(t))})),vt=E((function(e){return me(e).plus(xt(e).rotate(Math.PI))})),gt=E((function(e){var t=Je(e)?Math.PI/2:3*Math.PI/2;return xe(e).plus(xt(e).rotate(t))})),wt=E((function(e){return fe(e).plus(xt(e).rotate(Math.PI))})),Mt=E((function(e){var t=Je(e)?-Math.PI/2:Math.PI/2;return $(e).plus(xt(e).rotate(t))})),kt=E((function(e){var t=Je(e)?Math.PI/2:-Math.PI/2;return ae(e).plus(xt(e).rotate(t))})),Et=E((function(e){return he(e).minus(e.v)})),Pt=E((function(e){return be(e).minus(e.v)})),qt=E((function(e){return Et(e).times(-1)})),Lt=E((function(e){return be(e).minus(he(e))})),St=n(0),Nt=function(e){var t=o.a.useContext($t),n=t.state,a=t.dispatch,i=e.rOpacity,s=void 0===i?.5:i,c=e.hOpacity,u=void 0===c?.5:c,l=e.vOpacity,h=void 0===l?.5:l,d=n.tri,p=d.r,j=d.h,f=d.v;function b(){return a(r.mouseDownRVertex())}function m(){return a(r.mouseDownHVertex())}function x(){return a(r.mouseDownVVertex())}return Object(St.jsxs)("g",{children:[Object(St.jsx)("circle",{className:"control-point",cx:p.x,cy:p.y,r:16,fillOpacity:s,onMouseDown:b,onTouchStart:b}),Object(St.jsx)("circle",{className:"control-point",cx:j.x,cy:j.y,r:16,fillOpacity:u,onMouseDown:m,onTouchStart:m}),Object(St.jsx)("circle",{className:"control-point",cx:f.x,cy:f.y,r:16,fillOpacity:h,onMouseDown:x,onTouchStart:x})]})},Wt=function(e){var t=o.a.useContext($t).state.tri,n=t.r,r=t.h,a=t.v,i="M ".concat(n.x," ").concat(n.y," L ").concat(r.x," ").concat(r.y," L ").concat(a.x," ").concat(a.y," Z"),s=e.d,c=void 0===s?i:s,u=e.opacity,l=void 0===u?1:u,h=e.strokeOpacity,d=void 0===h?1:h;return Object(St.jsx)("path",{className:"main-triangle",d:c,fillOpacity:l,strokeOpacity:d})},Tt=function(e){var t=e.d,n=e.label,r=e.labelPos,a=e.labelOpacity;return Object(St.jsxs)("g",{children:[Object(St.jsx)("path",{className:"measurement-path",d:t}),Object(St.jsx)("text",{className:"measurement-label",x:r.x,y:r.y,fillOpacity:a,textAnchor:"middle",dominantBaseline:"middle",children:n})]})};var At=function(e){var t=e.pts,n=void 0===t?[]:t,r=e.className,a=e.opacity,i=void 0===a?1:a,s=e.d?e.d:"M ".concat(n.map((function(e){return"".concat(e.x," ").concat(e.y)})).join(" L ")," Z");return Object(St.jsx)("path",{className:r,d:s,fillOpacity:i})},Ct=function(e){var t=e.side,n=e.pos,r=e.opacity;return Object(St.jsxs)("text",{className:"main-square-label",x:n.x,y:n.y,fillOpacity:r,textAnchor:"middle",dominantBaseline:"middle",children:[t,Object(St.jsx)("tspan",{className:"main-square-label-exponent",dy:"-1ex",children:"2"})]})};var It=function(e){var t=e.pose,n=e.opacity,r=void 0===n?1:n,a=e.className,i=e.pts.map((function(e){return e.rotate(t.angle).plus(t.loc)})),s="M ".concat(i.map((function(e){return"".concat(e.x," ").concat(e.y)})).join(" L ")," Z");return Object(St.jsx)("path",{className:a,d:s,fillOpacity:r})};var Vt=function(e){var t=e.name,n=e.pos,r=e.opacity,a=e.className;return Object(St.jsx)("text",{className:a,x:n.x,y:n.y,fillOpacity:r,textAnchor:"middle",dominantBaseline:"middle",children:t})};var Dt=[{section:function(){return Object(St.jsxs)("section",{children:[Object(St.jsx)("h1",{children:"A Pythagorean Mosaic"}),Object(St.jsxs)("p",{children:["The celebrated ",Object(St.jsx)("em",{children:"Pythagorean Theorem"})," says that the relationship between the lengths of the sides of any right triangle is astonishingly simple: specifically, the square of the length of the longest side (the \u201chypotenuse\u201d) is equal to the sum of the squares of the shorter sides. Following convention, if we call the length of the hypotenuse ",Object(St.jsx)("code",{children:"c"}),", and the lengths of the remaining sides"," ",Object(St.jsx)("code",{children:"a"})," and ",Object(St.jsx)("code",{children:"b"}),", the Pythagorean Theorem states that"," ",Object(St.jsxs)("code",{children:["a",Object(St.jsx)("sup",{children:"2"})," + b",Object(St.jsx)("sup",{children:"2"})," = c",Object(St.jsx)("sup",{children:"2"})]}),"."]}),Object(St.jsxs)("p",{children:["How do we ",Object(St.jsx)("em",{children:"know"})," that this is true? Perhaps we could (somehow) check a large collection of right triangles to see if this is always the case. Although such an effort might instill some confidence, it would be far from definitive: we'd inevitably remain tormented by the nagging thought that we'd missed some exotic conjecture-defying triangle."]}),Object(St.jsxs)("p",{children:["We want something sturdier: a ",Object(St.jsx)("em",{children:"proof"}),". In the remaining pages, we'll step through a tidy demonstration of the Pythagorean Theorem. Unlike the \u201cchecking\u201d strategy described above, our proof will appeal to universal properties of right triangles and other geometric figures, rather than relying on the specific details of any particular triangle."]}),Object(St.jsxs)("p",{children:["We'll use the right triangle shown here to illustrate each step. Each of the triangle's vertices (",Object(St.jsx)("span",{className:"dummy-control-point"}),") can be dragged at any time; this will allow us to observe each step with a variety of different triangles."]})]})},graphics:function(e){var t=e.frame,n=o.a.useContext($t).state,r=o.a.useMemo((function(){return n.tri,x.Fork({vOpacity:x.Ease(0,.5,400),rOpacity:x.Wait(0,600).then(x.Ease(0,.5,400)),hOpacity:x.Wait(0,1200).then(x.Ease(0,.5,400))})}),[n.tri]),a=o.a.useMemo((function(){return function(e){var t=e.r,n=e.h,r=e.v;return x.Fork({d:v.SvgPath([r,t,n],1800),opacity:x.Wait(0,2400).then(x.Ease(0,1,500))})}(n.tri)}),[n.tri]),i=o.a.useMemo((function(){return e=n.tri,x.Fork({dA:x.Wait("",3e3).then(v.Measurement(ve(e),ge(e),20,1200)),aOpacity:x.Wait(0,4200).then(x.Ease(0,1,800)),dB:x.Wait("",4600).then(v.Measurement(Me(e),ke(e),20,1200)),bOpacity:x.Wait(0,5800).then(x.Ease(0,1,800)),dC:x.Wait("",6200).then(v.Measurement(Pe(e),qe(e),20,1200)),cOpacity:x.Wait(0,7400).then(x.Ease(0,1,800))});var e}),[n.tri]),s=r.fn(t),c=s.rOpacity,u=s.hOpacity,l=s.vOpacity,h=a.fn(t),d=h.d,p=h.opacity,j=i.fn(t),f=j.dA,b=j.aOpacity,m=j.dB,O=j.bOpacity,y=j.dC,g=j.cOpacity,w=Se(n.tri),M=Ne(n.tri),k=We(n.tri);return Object(St.jsxs)(St.Fragment,{children:[Object(St.jsx)(Tt,{d:f,label:"a",labelPos:w,labelOpacity:b}),Object(St.jsx)(Tt,{d:m,label:"b",labelPos:M,labelOpacity:O}),Object(St.jsx)(Tt,{d:y,label:"c",labelPos:k,labelOpacity:g}),Object(St.jsx)(Wt,{d:d,opacity:p}),Object(St.jsx)(Nt,{rOpacity:c,hOpacity:u,vOpacity:l})]})},duration:8200},{section:function(){var e=o.a.useContext($t).dispatch;return Object(St.jsxs)("section",{children:[Object(St.jsx)("h2",{children:"A Slight Reinterpretation"}),Object(St.jsxs)("p",{children:["We'll begin by reinterpreting the claim"," ",Object(St.jsxs)("code",{children:["a",Object(St.jsx)("sup",{children:"2"})," + b",Object(St.jsx)("sup",{children:"2"})," = c",Object(St.jsx)("sup",{children:"2"})]})," ","ever so slightly. In particular, we've constructed squares using each of the triangle's sides as a base. Since a square whose side length is"," ",Object(St.jsx)("code",{children:"s"})," has an area of"," ",Object(St.jsxs)("code",{children:["s",Object(St.jsx)("sup",{children:"2"})]}),", our new interpretation of the Pythagorean Theorem states that"," ",Object(St.jsx)("em",{children:"the two smaller squares together have exactly the same area as the larger square"}),"."]}),Object(St.jsx)("p",{children:"This is what we'll demonstrate in the steps to come."}),Object(St.jsxs)("p",{children:["Is this reasonable? When the triangle is thin, as in this"," ",Object(St.jsx)("button",{onClick:function(){return e(r.makeThin())},children:"example"}),", the"," ",Object(St.jsx)("code",{children:"\u201ca\u201d"})," square is quite small, whereas the"," ",Object(St.jsx)("code",{children:"\u201cb\u201d"})," square is just slightly smaller than the"," ",Object(St.jsx)("code",{children:"\u201cc\u201d"})," square. As the triangle becomes thinner and thinner (try it out!), this behavior is accentuated. For this reason, the proposal seems plausible, at least for thin triangles. However, when the triangle's sides are"," ",Object(St.jsx)("button",{onClick:function(){return e(r.makeEven())},children:"roughly even"}),", it may be more difficult to tell whether the total area of the smaller squares equals that of the larger square."]})]})},graphics:function(e){var t=e.frame,n=o.a.useContext($t).state,r=o.a.useMemo((function(){return e=n.tri,x.Fork({dA:v.SvgPath(ee(e),1600),aOpacity:x.Wait(0,1600).then(x.Ease(0,1,600)),dB:v.SvgPath(se(e),1600),bOpacity:x.Wait(0,1600).then(x.Ease(0,1,600)),dC:v.SvgPath(de(e),1600),cOpacity:x.Wait(0,1600).then(x.Ease(0,1,600))});var e}),[n.tri]),a=o.a.useMemo((function(){return n.tri,x.Fork({aLabelOpacity:x.Wait(0,2400).then(x.Ease(0,1,600)),bLabelOpacity:x.Wait(0,3e3).then(x.Ease(0,1,600)),cLabelOpacity:x.Wait(0,3600).then(x.Ease(0,1,600))})}),[n.tri]),i=r.fn(t),s=i.dA,c=i.aOpacity,u=i.dB,l=i.bOpacity,h=i.dC,d=i.cOpacity,p=a.fn(t),j=p.aLabelOpacity,f=p.bLabelOpacity,b=p.cLabelOpacity,m=te(n.tri),O=ce(n.tri),y=pe(n.tri);return Object(St.jsxs)(St.Fragment,{children:[Object(St.jsx)(At,{className:"main-square",d:s,opacity:c}),Object(St.jsx)(At,{className:"main-square",d:u,opacity:l}),Object(St.jsx)(At,{className:"main-square",d:h,opacity:d}),Object(St.jsx)(Ct,{side:"a",pos:m,opacity:j}),Object(St.jsx)(Ct,{side:"b",pos:O,opacity:f}),Object(St.jsx)(Ct,{side:"c",pos:y,opacity:b}),Object(St.jsx)(Wt,{}),Object(St.jsx)(Nt,{})]})},duration:4200},{section:function(){return Object(St.jsxs)("section",{children:[Object(St.jsx)("h2",{children:"Some Auxiliary Elements"}),Object(St.jsxs)("p",{children:["To start, we construct two larger rectangles around our original right triangle: one containing the ",Object(St.jsx)("code",{children:"\u201cc\u201d"})," square, and the other containing the two smaller squares."]}),Object(St.jsx)("p",{children:"Curiously enough, both of these \u201cauxiliary\u201d rectangles appear to be squares. Furthermore, no matter our triangle's proportions, both appear to have the same area. Is this the case? If so, can you see why? We'll look at these questions next."})]})},graphics:function(e){var t=e.frame,n=o.a.useContext($t).state,r=o.a.useMemo((function(){return e=n.tri,x.Fork({abPath:v.SvgPath(Te(e),1600),cPath:x.Wait("",1600).then(v.SvgPath(Ae(e),1600))});var e}),[n.tri]).fn(t),a=r.abPath,i=r.cPath;return Object(St.jsxs)(St.Fragment,{children:[Object(St.jsx)(At,{className:"main-square",pts:ee(n.tri)}),Object(St.jsx)(At,{className:"main-square",pts:se(n.tri)}),Object(St.jsx)(At,{className:"main-square",pts:de(n.tri)}),Object(St.jsx)(Wt,{}),Object(St.jsx)(At,{className:"aux-square",d:a,opacity:0}),Object(St.jsx)(At,{className:"aux-square",d:i,opacity:0}),Object(St.jsx)(Nt,{})]})},duration:3200},{section:function(){return Object(St.jsxs)("section",{children:[Object(St.jsx)("h2",{children:"Computing Areas (1)"}),Object(St.jsxs)("p",{children:["What are the areas of these auxiliary rectangles? We can see that the one containing the two smaller squares has a side length of"," ",Object(St.jsx)("code",{children:"a + b"}),". So it is indeed a square (as we suspected) with an area of"," ",Object(St.jsxs)("code",{children:["(a + b)",Object(St.jsx)("sup",{children:"2"})]}),"."]})]})},graphics:function(e){var t=e.frame,n=o.a.useContext($t).state,r=o.a.useMemo((function(){return e=n.tri,x.Fork({dA1:v.Measurement(Ve(e),De(e),20,1200),a1Opacity:x.Wait(0,1200).then(x.Ease(0,1,800)),dB1:x.Wait("",1600).then(v.Measurement(Be(e),Fe(e),20,1200)),b1Opacity:x.Wait(0,2800).then(x.Ease(0,1,800)),dA2:v.Measurement(Ue(e),_e(e),20,1200),a2Opacity:x.Wait(0,1200).then(x.Ease(0,1,800)),dB2:x.Wait("",1600).then(v.Measurement(ze(e),Ge(e),20,1200)),b2Opacity:x.Wait(0,2800).then(x.Ease(0,1,800))});var e}),[n.tri]).fn(t),a=r.dA1,i=r.a1Opacity,s=r.dB1,c=r.b1Opacity,u=r.dA2,l=r.a2Opacity,h=r.dB2,d=r.b2Opacity,p=Re(n.tri),j=He(n.tri),f=Xe(n.tri),b=Ze(n.tri);return Object(St.jsxs)(St.Fragment,{children:[Object(St.jsx)(At,{className:"main-square",pts:ee(n.tri)}),Object(St.jsx)(At,{className:"main-square",pts:se(n.tri)}),Object(St.jsx)(At,{className:"main-square dim",pts:de(n.tri)}),Object(St.jsx)(Wt,{}),Object(St.jsx)(At,{className:"aux-square",pts:Te(n.tri),opacity:0}),Object(St.jsx)(Tt,{d:a,label:"a",labelPos:p,labelOpacity:i}),Object(St.jsx)(Tt,{d:s,label:"b",labelPos:j,labelOpacity:c}),Object(St.jsx)(Tt,{d:u,label:"a",labelPos:f,labelOpacity:l}),Object(St.jsx)(Tt,{d:h,label:"b",labelPos:b,labelOpacity:d}),Object(St.jsx)(Nt,{})]})},duration:3400},{section:function(){return Object(St.jsxs)("section",{children:[Object(St.jsx)("h2",{children:"Computing Areas (2)"}),Object(St.jsxs)("p",{children:["The area of the second auxiliary rectangle is a bit trickier to compute. However, once we see that our original right triangle appears \u201ccopied\u201d inside of it, it's clear that its sides have length"," ",Object(St.jsx)("code",{children:"a + b"})," as well. Accordingly, it is ",Object(St.jsx)("em",{children:"also"})," a square with area"," ",Object(St.jsxs)("code",{children:["(a + b)",Object(St.jsx)("sup",{children:"2"})]}),"."]}),Object(St.jsxs)("p",{children:["This confirms what we first suspected several steps back, namely that both auxiliary rectangles have ",Object(St.jsx)("em",{children:"the same area"}),"."]})]})},graphics:function(e){var t=e.frame,n=o.a.useContext($t).state,r=o.a.useMemo((function(){return function(e){var t=Ke(e),n=Qe(e),r=$e(e),a=et(e);return x.Fork({tri1Pose:x.Ease(t,n,1200),tri1Opacity:x.Ease(0,1,400),tri2Pose:x.Wait(n,1200).then(x.Ease(n,r,1200)),tri2Opacity:x.Wait(0,1200).then(x.Ease(0,1,400)),tri3Pose:x.Wait(r,2400).then(x.Ease(r,a,1200)),tri3Opacity:x.Wait(0,2400).then(x.Ease(0,1,400))})}(n.tri)}),[n.tri]),a=o.a.useMemo((function(){return e=n.tri,x.Fork({dA1:x.Wait("",4e3).then(v.Measurement(st(e),ct(e),20,1200)),a1Opacity:x.Wait(0,5200).then(x.Ease(0,1,800)),dB1:x.Wait("",5600).then(v.Measurement(ot(e),ut(e),20,1200)),b1Opacity:x.Wait(0,6800).then(x.Ease(0,1,800)),dA2:x.Wait("",4e3).then(v.Measurement(dt(e),pt(e),20,1200)),a2Opacity:x.Wait(0,5200).then(x.Ease(0,1,800)),dB2:x.Wait("",5600).then(v.Measurement(jt(e),ft(e),20,1200)),b2Opacity:x.Wait(0,6800).then(x.Ease(0,1,800))});var e}),[n.tri]),i=r.fn(t),s=i.tri1Pose,c=i.tri1Opacity,u=i.tri2Pose,l=i.tri2Opacity,h=i.tri3Pose,d=i.tri3Opacity,p=Ye(n.tri),j=a.fn(t),f=j.dA1,b=j.a1Opacity,m=j.dB1,O=j.b1Opacity,y=j.dA2,g=j.a2Opacity,w=j.dB2,M=j.b2Opacity,k=lt(n.tri),E=ht(n.tri),P=bt(n.tri),q=mt(n.tri);return Object(St.jsxs)(St.Fragment,{children:[Object(St.jsx)(At,{className:"main-square dim",pts:ee(n.tri)}),Object(St.jsx)(At,{className:"main-square dim",pts:se(n.tri)}),Object(St.jsx)(At,{className:"main-square",pts:de(n.tri)}),Object(St.jsx)(Wt,{}),Object(St.jsx)(It,{className:"main-triangle-copy",pts:p,pose:s,opacity:c}),Object(St.jsx)(It,{className:"main-triangle-copy",pts:p,pose:u,opacity:l}),Object(St.jsx)(It,{className:"main-triangle-copy",pts:p,pose:h,opacity:d}),Object(St.jsx)(Tt,{d:f,label:"a",labelPos:k,labelOpacity:b}),Object(St.jsx)(Tt,{d:m,label:"b",labelPos:E,labelOpacity:O}),Object(St.jsx)(Tt,{d:y,label:"a",labelPos:P,labelOpacity:g}),Object(St.jsx)(Tt,{d:w,label:"b",labelPos:q,labelOpacity:M}),Object(St.jsx)(At,{className:"aux-square",pts:Ae(n.tri),opacity:0}),Object(St.jsx)(Nt,{})]})},duration:7600},{section:function(){return Object(St.jsxs)("section",{children:[Object(St.jsx)("h2",{children:"Considering the Leftovers"}),Object(St.jsxs)("p",{children:["We've just seen that the second auxiliary square contains 4 copies of the original right triangle. Its remaining area is occupied by the square whose area is"," ",Object(St.jsxs)("code",{children:["c",Object(St.jsx)("sup",{children:"2"})]}),". In other words,"," ",Object(St.jsxs)("code",{children:["c",Object(St.jsx)("sup",{children:"2"})]})," ","is the total area left over after removing 4 right triangles from the auxiliary square."]}),Object(St.jsxs)("p",{children:["If we call the area of the auxiliary square ",Object(St.jsx)("code",{children:"S"}),", and the area of our original right triangle ",Object(St.jsx)("code",{children:"T"}),", we can express this relationship symbolically as"," ",Object(St.jsxs)("code",{children:["c",Object(St.jsx)("sup",{children:"2"})," = S - 4T"]}),"."]})]})},graphics:function(e){var t=e.frame,n=o.a.useContext($t).state,r=o.a.useMemo((function(){return n.tri,x.Fork({c2LabelOpacity:x.Wait(0,4e3).then(x.Ease(0,1,800)),auxOpacity:x.Wait(1,3400).then(x.Ease(1,0,800)),auxLabelOpacity:x.Ease(0,1,800).then(x.Wait(1,2800)).then(x.Ease(1,0,800)),mainTriOpacity:x.Wait(0,1e3).then(x.Ease(0,1,800)).then(x.Wait(1,4600)).then(x.Ease(1,0,800)),mainTriLabelOpacity:x.Wait(0,4e3).then(x.Ease(0,1,800)).then(x.Wait(1,1900)).then(x.Ease(1,0,800)),tri1Opacity:x.Wait(0,1500).then(x.Ease(0,1,800)).then(x.Wait(1,4600)).then(x.Ease(1,0,800)),tri1LabelOpacity:x.Wait(0,4e3).then(x.Ease(0,1,800)).then(x.Wait(1,2400)).then(x.Ease(1,0,800)),tri2Opacity:x.Wait(0,2e3).then(x.Ease(0,1,800)).then(x.Wait(1,4600)).then(x.Ease(1,0,800)),tri2LabelOpacity:x.Wait(0,4e3).then(x.Ease(0,1,800)).then(x.Wait(1,2900)).then(x.Ease(1,0,800)),tri3Opacity:x.Wait(0,2500).then(x.Ease(0,1,800)).then(x.Wait(1,4600)).then(x.Ease(1,0,800)),tri3LabelOpacity:x.Wait(0,4e3).then(x.Ease(0,1,800)).then(x.Wait(1,3400)).then(x.Ease(1,0,800))})}),[n.tri]).fn(t),a=r.c2LabelOpacity,i=r.auxOpacity,s=r.auxLabelOpacity,c=r.mainTriOpacity,u=r.mainTriLabelOpacity,l=r.tri1Opacity,h=r.tri1LabelOpacity,d=r.tri2Opacity,p=r.tri2LabelOpacity,j=r.tri3Opacity,f=r.tri3LabelOpacity,b=Ye(n.tri);return Object(St.jsxs)(St.Fragment,{children:[Object(St.jsx)(At,{className:"main-square dim",pts:ee(n.tri)}),Object(St.jsx)(At,{className:"main-square dim",pts:se(n.tri)}),Object(St.jsx)(At,{className:"main-square",pts:de(n.tri)}),Object(St.jsx)(At,{className:"aux-square",pts:Ae(n.tri),opacity:i}),Object(St.jsx)(Vt,{className:"aux-square-label",name:"S",pos:pe(n.tri),opacity:s}),Object(St.jsx)(Ct,{side:"c",pos:pe(n.tri),opacity:a}),Object(St.jsx)(It,{className:"main-triangle-copy",pts:b,pose:Qe(n.tri),opacity:l}),Object(St.jsx)(It,{className:"main-triangle-copy",pts:b,pose:$e(n.tri),opacity:d}),Object(St.jsx)(It,{className:"main-triangle-copy",pts:b,pose:et(n.tri),opacity:j}),Object(St.jsx)(Wt,{opacity:c,strokeOpacity:c}),Object(St.jsx)(Vt,{className:"tri-label",name:"T",pos:Ot(n.tri),opacity:u}),Object(St.jsx)(Vt,{className:"tri-label",name:"T",pos:yt(n.tri),opacity:h}),Object(St.jsx)(Vt,{className:"tri-label",name:"T",pos:vt(n.tri),opacity:p}),Object(St.jsx)(Vt,{className:"tri-label",name:"T",pos:gt(n.tri),opacity:f}),Object(St.jsx)(Nt,{})]})},duration:1e4},{section:function(){return Object(St.jsxs)("section",{children:[Object(St.jsx)("h2",{children:"Wrapping Up"}),Object(St.jsxs)("p",{children:["The other auxiliary square has a similar property. In particular, it contains 4 copies of the original triangle, and its remaining area is occupied by the squares whose areas are"," ",Object(St.jsxs)("code",{children:["a",Object(St.jsx)("sup",{children:"2"})]})," ","and"," ",Object(St.jsxs)("code",{children:["b",Object(St.jsx)("sup",{children:"2"})]}),". In other words,"," ",Object(St.jsxs)("code",{children:["a",Object(St.jsx)("sup",{children:"2"})," + b",Object(St.jsx)("sup",{children:"2"})]})," ","is the total area left over after removing 4 right triangles from the original auxiliary square."]}),Object(St.jsxs)("p",{children:["Using the names we devised in the previous step (and recalling that both auxiliary squares have the same area), we can express this discovery like so:"," ",Object(St.jsxs)("code",{children:["a",Object(St.jsx)("sup",{children:"2"})," + b",Object(St.jsx)("sup",{children:"2"})," = S - 4T"]}),"."]}),Object(St.jsxs)("p",{children:["This looks familiar! We determined in the previous step that"," ",Object(St.jsxs)("code",{children:["c",Object(St.jsx)("sup",{children:"2"})," = S - 4T"]})," ","as well. Since"," ",Object(St.jsx)("em",{children:"two things that are equal to the same thing are equal to each other"}),", it must be the case that"," ",Object(St.jsxs)("code",{children:["a",Object(St.jsx)("sup",{children:"2"})," + b",Object(St.jsx)("sup",{children:"2"})," = c",Object(St.jsx)("sup",{children:"2"})]}),"."]})]})},graphics:function(e){var t=e.frame,n=o.a.useContext($t).state,r=o.a.useMemo((function(){return function(e){var t=Ke(e),n=tt(e),r=nt(e),a=rt(e);return x.Fork({tri1Pose:x.Ease(t,n,1200),tri1Opacity:x.Ease(0,1,400).then(x.Wait(1,6e3)).then(x.Ease(1,0,1200)),tri2Pose:x.Wait(n,1400).then(x.Ease(n,r,1200)),tri2Opacity:x.Wait(0,1200).then(x.Ease(0,1,400)).then(x.Wait(1,4800)).then(x.Ease(1,0,1200)),tri3Pose:x.Wait(r,2800).then(x.Ease(r,a,1200)),tri3Opacity:x.Wait(0,2800).then(x.Ease(0,1,400)).then(x.Wait(1,3200)).then(x.Ease(1,0,1200)),mainTriOpacity:x.Wait(1,6400).then(x.Ease(1,0,1200)),squareLabelOpacity:x.Wait(0,4e3).then(x.Ease(0,1,800)),triLabelOpacity:x.Wait(0,4e3).then(x.Ease(0,1,800)).then(x.Wait(1,1600)).then(x.Ease(1,0,1200))})}(n.tri)}),[n.tri]).fn(t),a=r.tri1Pose,i=r.tri1Opacity,s=r.tri2Pose,c=r.tri2Opacity,u=r.tri3Pose,l=r.tri3Opacity,h=r.mainTriOpacity,d=r.squareLabelOpacity,p=r.triLabelOpacity,j=Ye(n.tri);return Object(St.jsxs)(St.Fragment,{children:[Object(St.jsx)(At,{className:"main-square",pts:ee(n.tri)}),Object(St.jsx)(At,{className:"main-square",pts:se(n.tri)}),Object(St.jsx)(At,{className:"main-square dim",pts:de(n.tri)}),Object(St.jsx)(Wt,{opacity:h,strokeOpacity:h}),Object(St.jsx)(It,{className:"main-triangle-copy",pts:j,pose:a,opacity:i}),Object(St.jsx)(It,{className:"main-triangle-copy",pts:j,pose:s,opacity:c}),Object(St.jsx)(It,{className:"main-triangle-copy",pts:j,pose:u,opacity:l}),Object(St.jsx)(At,{className:"aux-square",pts:Te(n.tri),opacity:0}),Object(St.jsx)(Ct,{side:"a",pos:te(n.tri),opacity:d}),Object(St.jsx)(Ct,{side:"b",pos:ce(n.tri),opacity:d}),Object(St.jsx)(Vt,{className:"tri-label",name:"T",pos:Ot(n.tri),opacity:p}),Object(St.jsx)(Vt,{className:"tri-label",name:"T",pos:wt(n.tri),opacity:p}),Object(St.jsx)(Vt,{className:"tri-label",name:"T",pos:Mt(n.tri),opacity:p}),Object(St.jsx)(Vt,{className:"tri-label",name:"T",pos:kt(n.tri),opacity:p}),Object(St.jsx)(Nt,{})]})},duration:7600},{section:function(){return Object(St.jsxs)("section",{children:[Object(St.jsx)("h2",{children:"Epilogue: Is this a proof?"}),Object(St.jsxs)("p",{children:["We're now in a position to ask two important questions:"," ",Object(St.jsxs)("em",{children:["in what sense have we ",Object(St.jsx)("b",{children:"proven"})," the Pythagorean Theorem?"]})," ","and"," ",Object(St.jsxs)("em",{children:["in what sense is the Pythagorean Theorem ",Object(St.jsx)("b",{children:"true"}),"?"]}),"."]}),Object(St.jsx)("h3",{children:"Missing Pieces"}),Object(St.jsxs)("p",{children:["While the preceding pages make a fairly convincing case, there are compelling reasons to withhold the lofty title of \u201cproof\u201d for the time being. For example, we quite casually conjured a variety of geometric figures around our original right triangle without offering any insight regarding ",Object(St.jsx)("em",{children:"how"})," to construct them. A more persuasive argument would first show that these objects ",Object(St.jsx)("em",{children:"can"})," in fact be constructed (perhaps by showing how to do so)."]}),Object(St.jsxs)("p",{children:["If this objection seems trifling, consider the following two requests:"," ",Object(St.jsx)("em",{children:"construct a triangle whose angles sum to 120\xb0"}),", and"," ",Object(St.jsxs)("em",{children:["construct a square whose area equals that of a circle of radius"," ",Object(St.jsx)("code",{children:"r"})]}),". Is it possible to execute these commands? The first appears to violate a fundamental property of triangles (whose angles sum to 180\xb0), and it's unclear whether the second one is possible, particularly without further details."]}),Object(St.jsx)("p",{children:"What we desire then, is a set of rules indicating what the possible \u201cmoves\u201d are for constructing figures, along with some principles describing how these figures relate to one another. As an example, the legal moves might include drawing a line between two established points, creating a circle between two points, adding a point where two lines intersect, etc."}),Object(St.jsx)("h3",{children:"Which System to Choose?"}),Object(St.jsxs)("p",{children:["Unfortunately, rather than resolve the issue described above, the prospect of choosing a system prompts the following obvious question:"," ",Object(St.jsx)("em",{children:"which system to choose?"}),". The"," ",Object(St.jsx)("a",{href:"https://en.wikipedia.org/wiki/Non-Euclidean_geometry#Importance",target:"_blank",rel:"noreferrer",children:"unsettling discovery"})," ","that there exist many systems that adequately model our conceptions of geometry means that such a choice is non-trivial. It also answers our second question with a definitive"," ",Object(St.jsx)("a",{href:"https://en.wikipedia.org/wiki/Mu_(negative)#%22Unasking%22_the_question",target:"_blank",rel:"noreferrer",children:Object(St.jsx)("b",{children:"mu"})}),": it makes no sense to ask \u201cis the Pythagorean Theorem ",Object(St.jsx)("b",{children:"true"}),"?\u201d; we can only ask \u201cis the Pythagorean Theorem"," ",Object(St.jsx)("b",{children:"true in system X"}),"?\u201d."]}),Object(St.jsx)("h3",{children:"Fallibility"}),Object(St.jsxs)("p",{children:["Suppose you offer a friend a proof ",Object(St.jsx)("code",{children:"p"})," of some statement"," ",Object(St.jsx)("code",{children:"s"}),". If it's a fairly complicated proof, they might ask you to sit down and walk them through it. They might even question certain aspects of it and prompt you to argue that your proof is in fact correct. This defense of your proof is yet ",Object(St.jsx)("em",{children:"another"})," ","proof\u2014a ",Object(St.jsx)("em",{children:"meta-"}),"proof\u2014which we might call"," ",Object(St.jsxs)("code",{children:["p",Object(St.jsx)("sub",{children:"1"})]}),". But why stop there? Perhaps your friend is a cranky skeptic and asks for justification of"," ",Object(St.jsxs)("code",{children:["p",Object(St.jsx)("sub",{children:"1"})]}),". And so you might provide"," ",Object(St.jsxs)("code",{children:["p",Object(St.jsx)("sub",{children:"2"})]})," ","(a ",Object(St.jsx)("em",{children:"meta-meta-proof"})," proving that"," ",Object(St.jsxs)("code",{children:["p",Object(St.jsx)("sub",{children:"1"})]})," ","is a proof of ",Object(St.jsx)("code",{children:"p"}),"),"," ",Object(St.jsxs)("code",{children:["p",Object(St.jsx)("sub",{children:"3"})]}),", etc."]}),Object(St.jsx)("p",{children:"We can summarize the issues underlying this exchange as follows:"}),Object(St.jsx)("blockquote",{children:Object(St.jsx)("em",{children:"A proof, which exhibits the truth of a statement, is itself just another statement."})}),Object(St.jsxs)("p",{children:["We're accumstomed to think of statements and proofs in a stratified fashion: statements (and the mathematical objects they reference) are inert \u201cthings\u201d; proofs, on the other hand, are"," ",Object(St.jsx)("em",{children:"about"})," these things, and as such they inhabit some realm above statements. However, this neat structure is flattened when our skeptical colleague pushes our complicated proof into the level of mathematical statements."]}),Object(St.jsx)("h3",{children:"Moving Forward"}),Object(St.jsxs)("p",{children:["It's suprisingly easy to contract a crippling case of what we might call \u201cmetamathematical nihilism\u201d. In such cases it pays to remember that although proof is the most important tool of mathematics, mathematics is chiefly concerned with ",Object(St.jsx)("em",{children:"discovery"}),". This is not encouragement to dispense with rigor: after all, a discovery is only worth the name if it's backed up by a proof. Rather, it's a simple reminder that the modes in which we work, the \u201cintuitive\u201d and \u201crigorous\u201d, the \u201cactive\u201d and \u201ccontemplative\u201d, are often in competition and do best when exercised independently."]}),Object(St.jsx)("p",{children:"To that end, it's time for me to grab a compass and straightedge, and get to work."}),Object(St.jsx)("h2",{children:"Notes"}),Object(St.jsxs)("p",{children:["I first saw this proof in Paul Lockhart's book ",Object(St.jsx)("em",{children:"Measurement"}),", although variations are well-known and widespread. I find Lockhart's view of mathematics refreshing, and highly recommend any of his writings."]}),Object(St.jsxs)("p",{children:["I owe many of my thoughts on the topics of proof, truth, and fallibility to Douglas Hofstadter, Robert Pirsig,"," ",Object(St.jsx)("a",{href:"https://mitpress.mit.edu/sites/default/files/sicp/full-text/book/book.html",target:"_blank",rel:"noreferrer",children:"Hal Abelson, Gerry Sussman"}),", Thomas Kuhn,"," ",Object(St.jsx)("a",{href:"https://metarationality.com/",target:"_blank",rel:"noreferrer",children:"David Chapman"}),", and others."]}),Object(St.jsxs)("p",{children:["This webpage is written using React (with TypeScript), and I created the animations using a small collection of combinators along with some special-purpose hooks. For more information, see the"," ",Object(St.jsx)("a",{href:"https://github.com/wjlewis/pymos",target:"_blank",rel:"noreferrer",children:"source"}),"."]})]})},graphics:function(e){var t=e.frame,n=o.a.useContext($t).state,r=o.a.useMemo((function(){return function(e){var t=z(e).length()/2,n=_(e).length()/2;return x.Fork({anglePath:v.SvgPath([e.h,e.v,he(e)],1200,!1),angleMeasure1APath:x.Wait("",300).then(v.SvgArc(e.h,J(e),z(e),t,500)),angleMeasure1BPath:x.Wait("",300).then(v.SvgArc(e.h,J(e),z(e),t-6,500)),angleMeasure2Path:x.Wait("",600).then(v.SvgArc(e.v,G(e),_(e),n,500)),angleMeasure3APath:x.Wait("",1e3).then(v.SvgArc(e.v,Et(e),Pt(e),t,500)),angleMeasure3BPath:x.Wait("",1e3).then(v.SvgArc(e.v,Et(e),Pt(e),t-6,500)),angleMeasure4Path:x.Wait("",1300).then(v.SvgArc(he(e),qt(e),Lt(e),n,500))})}(n.tri)}),[n.tri]).fn(t),a=r.anglePath,i=r.angleMeasure1APath,s=r.angleMeasure1BPath,c=r.angleMeasure2Path,u=r.angleMeasure3APath,l=r.angleMeasure3BPath,h=r.angleMeasure4Path;return Object(St.jsxs)(St.Fragment,{children:[Object(St.jsx)(At,{className:"main-square dim ",pts:ee(n.tri)}),Object(St.jsx)(At,{className:"main-square dim ",pts:se(n.tri)}),Object(St.jsx)(At,{className:"main-square",pts:de(n.tri)}),Object(St.jsx)(Wt,{}),Object(St.jsx)("path",{className:"angle-measure inside",d:i}),Object(St.jsx)("path",{className:"angle-measure inside",d:s}),Object(St.jsx)("path",{className:"angle-measure inside",d:c}),Object(St.jsx)("path",{className:"angle-measure",d:u}),Object(St.jsx)("path",{className:"angle-measure",d:l}),Object(St.jsx)("path",{className:"angle-measure",d:h}),Object(St.jsx)(At,{className:"angle-path",d:a,opacity:0}),Object(St.jsx)(At,{className:"aux-square",pts:Ae(n.tri),opacity:0}),Object(St.jsx)(Nt,{})]})},duration:1800}];function Bt(e,t){switch(t.type){case P.PreviousStep:return function(e){return Object(b.a)(Object(b.a)({},e),{},{stepIndex:Math.max(0,e.stepIndex-1)})}(e);case P.NextStep:return function(e){return Object(b.a)(Object(b.a)({},e),{},{stepIndex:Math.min(Dt.length-1,e.stepIndex+1)})}(e);case P.MouseDownRVertex:return function(e){var t=e.tri,n=t.r,r=t.h,a=t.v,i=r.x-n.x,s=a.y-n.y;return Object(b.a)(Object(b.a)({},e),{},{dragSubject:j.RVertex(i,s)})}(e);case P.MouseDownHVertex:return function(e){return Object(b.a)(Object(b.a)({},e),{},{dragSubject:j.HVertex()})}(e);case P.MouseDownVVertex:return function(e){return Object(b.a)(Object(b.a)({},e),{},{dragSubject:j.VVertex()})}(e);case P.MouseMove:return function(e,t){return e.dragSubject.match({none:function(){return e},r:function(n,r){return function(e,t,n,r){var a=new g(r.x+t,r.y),i=new g(r.x,r.y+n);return Object(b.a)(Object(b.a)({},e),{},{tri:{r:r,h:a,v:i}})}(e,n,r,t)},h:function(){return function(e,t){var n=e.tri,r=n.r,a=n.v,i=Math.abs(t.x-r.x)<Ft?r.x+Ft*k(t.x-r.x):t.x,s=Math.abs(t.y-a.y)<Ft?a.y+Ft*k(t.y-a.y):t.y,c=new g(i,s),o=new g(r.x,s);return Object(b.a)(Object(b.a)({},e),{},{tri:Object(b.a)(Object(b.a)({},e.tri),{},{r:o,h:c})})}(e,t)},v:function(){return function(e,t){var n=e.tri,r=n.r,a=n.h,i=Math.abs(t.x-a.x)<Ft?a.x+Ft*k(t.x-a.x):t.x,s=Math.abs(t.y-r.y)<Ft?r.y+Ft*k(t.y-r.y):t.y,c=new g(i,s),o=new g(i,r.y);return Object(b.a)(Object(b.a)({},e),{},{tri:Object(b.a)(Object(b.a)({},e.tri),{},{r:o,v:c})})}(e,t)}})}(e,t.payload);case P.MouseUp:return function(e){var t=Rt(e,e.ui.dims);return Object(b.a)(Object(b.a)({},e),{},{ui:Object(b.a)(Object(b.a)({},e.ui),{},{triOutOfBounds:t}),dragSubject:j.None()})}(e);case P.MakeThin:return function(e){return e.ui.device===O.Laptop?function(e){var t=new g(-80,0),n=new g(80,t.y),r=new g(t.x,-40);return Object(b.a)(Object(b.a)({},e),{},{tri:Object(b.a)(Object(b.a)({},e.tri),{},{r:t,h:n,v:r})})}(e):function(e){var t=new g(-60,0),n=new g(60,t.y),r=new g(t.x,-40);return Object(b.a)(Object(b.a)({},e),{},{tri:Object(b.a)(Object(b.a)({},e.tri),{},{r:t,h:n,v:r})})}(e)}(e);case P.MakeEven:return function(e){return e.ui.device===O.Laptop?function(e){var t=new g(0,20),n=new g(90,t.y),r=new g(t.x,-80);return Object(b.a)(Object(b.a)({},e),{},{tri:Object(b.a)(Object(b.a)({},e.tri),{},{r:t,h:n,v:r})})}(e):function(e){var t=new g(-25,20),n=new g(25,t.y),r=new g(t.x,-20);return Object(b.a)(Object(b.a)({},e),{},{tri:Object(b.a)(Object(b.a)({},e.tri),{},{r:t,h:n,v:r})})}(e)}(e);case P.UpdateDims:return function(e,t){var n=Rt(e,t);return Object(b.a)(Object(b.a)({},e),{},{ui:Object(b.a)(Object(b.a)({},e.ui),{},{dims:t,triOutOfBounds:n})})}(e,t.payload);case P.UpdateDevice:return function(e,t){var n=e.ui.device,r=function(e,t){return e===O.Laptop&&t===O.Mobile}(n,t)?L:function(e,t){return e===O.Mobile&&t===O.Laptop}(n,t)?q:e.tri;return Object(b.a)(Object(b.a)({},e),{},{tri:r,ui:Object(b.a)(Object(b.a)({},e.ui),{},{device:t})})}(e,t.payload);case P.ResetMainTriangle:return function(e){var t=e.ui.device===O.Laptop?q:L;return Object(b.a)(Object(b.a)({},e),{},{tri:t,ui:Object(b.a)(Object(b.a)({},e.ui),{},{triOutOfBounds:!1})})}(e);case P.ToggleTheme:return function(e){var t=e.ui.theme===y.Light?y.Dark:y.Light;return Object(b.a)(Object(b.a)({},e),{},{ui:Object(b.a)(Object(b.a)({},e.ui),{},{theme:t})})}(e);default:return e}}var Ft=40;function Rt(e,t){var n=e.tri.r,r=t.width,a=t.height,i=Math.abs(n.x)>r/2,s=Math.abs(n.y)>a/2;return i||s}function Ht(e){return e.stepIndex>0}function Ut(e){return e.stepIndex<Dt.length-1}function _t(e){return"".concat(e.stepIndex+1," / ").concat(Dt.length)}function zt(e){return e.stepIndex}function Gt(e){return Dt[e.stepIndex].section}function Xt(e){return Dt[e.stepIndex].graphics}function Zt(e){return e.ui.triOutOfBounds}function Jt(e){return e.ui.dims}function Kt(e){return Dt[e.stepIndex].duration}function Yt(e){return e.ui.theme===y.Light}function Qt(e){return e.ui.theme===y.Light?"Dark":"Light"}var $t=o.a.createContext({state:S,dispatch:null});function en(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M,n=o.a.useState({width:0,height:0,left:0,top:0}),r=Object(h.a)(n,2),a=r[0],i=r[1];return o.a.useLayoutEffect((function(){function n(){if(e.current){var n=e.current.getBoundingClientRect(),r={width:n.width,height:n.height,left:n.left,top:n.top};return t(r),i(r)}}return n(),window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[e,t]),a}function tn(e){var t=o.a.useRef(e);o.a.useLayoutEffect((function(){function e(){return t.current(window.innerWidth>=1024?O.Laptop:O.Mobile)}return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[])}var nn=n.p+"static/media/sonobe.cfe1c59c.svg",rn=function(){var e=o.a.useContext($t),t=e.state,n=e.dispatch;return Object(St.jsx)("header",{children:Object(St.jsxs)("nav",{children:[Object(St.jsx)("a",{href:"https://wjlewis.github.io",target:"_blank",rel:"noreferrer",children:Object(St.jsx)("img",{id:"icon",src:nn,alt:"A sonobe module"})}),Object(St.jsxs)("div",{children:[Object(St.jsx)("button",{className:"theme-toggle",onClick:function(){return n(r.toggleTheme())},children:i.altThemeString(t)}),Object(St.jsx)("a",{href:"https://www.github.com/wjlewis/pymos",target:"_blank",rel:"noreferrer",children:"Source"})]})]})})},an=function(){var e=o.a.useContext($t).state,t=i.currentSection(e);return Object(St.jsx)("article",{id:"prose",children:Object(St.jsx)(t,{})})},sn=function(e){var t=e.name,n=e.pos,r=n.x,a=n.y;return Object(St.jsxs)("g",{className:"debug-point",children:[Object(St.jsx)("text",{x:r,y:a,dx:"0.5em",dy:"-0.3em",children:t}),Object(St.jsx)("circle",{cx:r,cy:a,r:"5"})]})},cn=function(e){var t=e.pts,n="M ".concat(t.map((function(e){return"".concat(e.x," ").concat(e.y)})).join(" L ")," Z");return Object(St.jsx)("path",{className:"debug-polygon",d:n})},on=function(){var e=o.a.useContext($t).state.tri,t=e.r,n=e.h,r=e.v,i=a.a0(e),s=a.a1(e),c=a.b0(e),u=a.b1(e),l=a.c0(e),h=a.c1(e),d=a.abOut(e),p=a.abIn(e),j=a.cAuxV(e),f=a.cAuxDiag(e),b=a.cAuxH(e);return Object(St.jsxs)("g",{children:[Object(St.jsx)(sn,{name:"r",pos:t}),Object(St.jsx)(sn,{name:"h",pos:n}),Object(St.jsx)(sn,{name:"v",pos:r}),Object(St.jsx)(cn,{pts:[r,i,s,t]}),Object(St.jsx)(cn,{pts:[t,c,u,n]}),Object(St.jsx)(cn,{pts:[n,l,h,r]}),Object(St.jsx)(sn,{name:"a0",pos:i}),Object(St.jsx)(sn,{name:"a1",pos:s}),Object(St.jsx)(sn,{name:"b0",pos:c}),Object(St.jsx)(sn,{name:"b1",pos:u}),Object(St.jsx)(sn,{name:"c0",pos:l}),Object(St.jsx)(sn,{name:"c1",pos:h}),Object(St.jsx)(cn,{pts:[r,i,d,u,p]}),Object(St.jsx)(cn,{pts:[t,j,f,b]}),Object(St.jsx)(sn,{name:"abOut",pos:d}),Object(St.jsx)(sn,{name:"abIn",pos:p}),Object(St.jsx)(sn,{name:"cAuxV",pos:j}),Object(St.jsx)(sn,{name:"cAuxDiag",pos:f}),Object(St.jsx)(sn,{name:"cAuxH",pos:b})]})},un=function(){var e=o.a.useContext($t),t=e.state,n=e.dispatch;return i.isTriOutOfBounds(t)?Object(St.jsx)("div",{id:"main-triangle-reset",children:Object(St.jsx)("button",{onClick:function(){return n(r.resetMainTriangle())},children:"Reset Triangle"})}):null},ln=function(e){var t=e.min,n=e.max,r=e.value,a=e.onChange,i=o.a.useState(!1),s=Object(h.a)(i,2),c=s[0],u=s[1],l=o.a.useRef(),d=en(l),p=d.width,j=d.height,f=d.left;function b(e){return function(e,t,n){return e<t?t:e>n?n:e}((e-m)/O*(n-t)+t,t,n)}o.a.useEffect((function(){function e(e){if(c)return a(b(e.clientX-f))}function t(e){if(c&&1===e.touches.length)return a(b(e.touches[0].clientX-f))}function n(){return u(!1)}return document.addEventListener("mousemove",e),document.addEventListener("touchmove",t),document.addEventListener("mouseup",n),document.addEventListener("touchend",n),function(){document.removeEventListener("mousemove",e),document.removeEventListener("touchmove",t),document.removeEventListener("mouseup",n),document.removeEventListener("touchend",n)}}));var m=40,x="translate(0 ".concat(j/2,")"),O=p-2*m,y=(r-t)/(n-t)*O;function v(){return u(!0)}return Object(St.jsx)("svg",{ref:l,width:"100%",height:"45px",onClick:function(e){return a(b(e.clientX-f))},children:Object(St.jsxs)("g",{transform:x,children:[Object(St.jsx)("line",{className:"slider-line",x1:m,y1:"0",x2:p-m,y2:"0",strokeWidth:"2",strokeLinecap:"round"}),Object(St.jsx)("circle",{className:"slider-button",onMouseDown:v,onTouchStart:v,cx:m+y,cy:"0",r:"15"})]})})},hn=n.p+"static/media/play.812a279b.svg",dn=n.p+"static/media/pause.bb5abc7d.svg",pn=n.p+"static/media/restart.410a94ba.svg",jn=function(e){var t=e.frame,n=e.playing,r=e.duration,a=e.togglePlay,i=e.setFrame,s=e.restart;var c=t>=r?pn:n?dn:hn,o=t>=r?"Restart":n?"Pause":"Play";return Object(St.jsxs)("div",{id:"controls",children:[Object(St.jsx)("button",{onClick:function(){return t>=r?s():a()},children:Object(St.jsx)("img",{src:c,alt:o})}),Object(St.jsx)(ln,{min:0,max:r,value:t,onChange:function(e){return i(e)}})]})},fn=function(e){var t=o.a.useContext($t),n=t.state,a=t.dispatch,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=o.a.useState(0),r=Object(h.a)(n,2),a=r[0],i=r[1],s=o.a.useState(!0),c=Object(h.a)(s,2),u=c[0],l=c[1],d=o.a.useRef(0);o.a.useLayoutEffect((function(){i(0),l(!0),d.current=0}),t),o.a.useLayoutEffect((function(){var t,n;return u&&(n=requestAnimationFrame((function r(a){t||(t=a);var s=a-t+d.current;u&&s<e?(i(s),n=requestAnimationFrame(r)):(l(!1),i(e))}))),function(){return cancelAnimationFrame(n)}}),[u,e]);var p=o.a.useCallback((function(){u&&(d.current=a),l(!u)}),[u,a]),j=o.a.useCallback((function(){d.current=0,l(!0)}),[]),f=o.a.useCallback((function(e){u&&l(!1),d.current=e,i(e)}),[u]);return{duration:e,frame:a,playing:u,togglePlay:p,restart:j,setFrame:f}}(i.currentDuration(n),[i.stepIndex(n)]),c=o.a.useRef(null),u=en(c,o.a.useCallback((function(e){return a(r.updateDims(e))}),[a])),l=u.width/2,d=u.height/2;!function(e,t){var n=o.a.useState({left:0,top:0}),r=Object(h.a)(n,2),a=r[0],i=r[1],s=t.onMove,c=t.onUp;o.a.useEffect((function(){function t(){if(e.current){var t=e.current.getBoundingClientRect(),n=t.left,r=t.top;return i({left:n,top:r})}}return t(),window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[e]),o.a.useEffect((function(){function e(e){var t=a.left,n=a.top,r=e.clientX,i=e.clientY;return s(new g(r-t,i-n))}function t(t){if(1===t.touches.length)return e(t.touches[0])}function n(){return c()}return document.addEventListener("mousemove",e),document.addEventListener("touchmove",t),document.addEventListener("mouseup",n),document.addEventListener("touchend",n),function(){document.removeEventListener("mousemove",e),document.removeEventListener("touchmove",t),document.removeEventListener("mouseup",n),document.removeEventListener("touchend",n)}}),[s,c,a])}(c,{onMove:function(e){return a(r.mouseMove(new g(e.x-l,e.y-d)))},onUp:function(){return a(r.mouseUp())}});var p="translate(".concat(l," ").concat(d,")"),j=i.currentGraphics(n);return Object(St.jsxs)("article",{id:"illustration",children:[Object(St.jsx)("svg",{id:"canvas",ref:c,children:Object(St.jsxs)("g",{transform:"".concat(p),children:[Object(St.jsx)(j,{frame:s.frame}),e.debug&&Object(St.jsx)(on,{})]})}),Object(St.jsx)(jn,Object(b.a)({},s)),Object(St.jsx)(un,{})]})},bn=function(){var e=o.a.useContext($t),t=e.state,n=e.dispatch,a=!i.canGoPrevious(t),s=!i.canGoNext(t);return Object(St.jsx)("footer",{children:Object(St.jsxs)("nav",{children:[Object(St.jsx)("button",{onClick:function(){return n(r.previousStep())},style:{visibility:a?"hidden":"initial"},children:"Previous"}),Object(St.jsx)("span",{children:i.stepProgress(t)}),Object(St.jsx)("button",{onClick:function(){return n(r.nextStep())},style:{visibility:s?"hidden":"initial"},children:"Next"})]})})},mn=function(){var e=o.a.useReducer(Bt,S),t=Object(h.a)(e,2),n=t[0],a=t[1];return tn((function(e){return a(r.updateDevice(e))})),Object(St.jsx)("main",{className:i.isLight(n)?"light":"dark",children:Object(St.jsxs)($t.Provider,{value:{state:n,dispatch:a},children:[Object(St.jsx)(rn,{}),Object(St.jsxs)("article",{id:"content",children:[Object(St.jsx)(an,{}),Object(St.jsx)(fn,{})]}),Object(St.jsx)(bn,{})]})})};l.a.render(Object(St.jsx)(o.a.StrictMode,{children:Object(St.jsx)(mn,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.1beb4942.chunk.js.map